/*
 pace 1.0.2 */
(function(){var J,S,n,l,T,y,B,f,U,V,K,W,X,q,Y,r,C,D,t,E,L,M,p,Z,u,g,F,N,aa,A,O,G,m,z,P,w,H,Q,I,ba,R,ca,x=[].slice,da={}.hasOwnProperty,ea=function(b,a){function c(){this.constructor=b}for(var d in a)da.call(a,d)&&(b[d]=a[d]);return c.prototype=a.prototype,b.prototype=new c,b.__super__=a.prototype,b},fa=[].indexOf||function(b){for(var a=0,c=this.length;c>a;a++)if(a in this&&this[a]===b)return a;return-1};n={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,
startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}};u=function(){var b;return null!=(b="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?b:+new Date};F=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame;D=window.cancelAnimationFrame||window.mozCancelAnimationFrame;null==F&&(F=function(b){return setTimeout(b,50)},D=function(b){return clearTimeout(b)});aa=function(b){var a,c;return a=u(),(c=function(){var d;return d=u()-a,33<=d?(a=u(),b(d,function(){return F(c)})):setTimeout(c,33-d)})()};N=function(){var b,a,c;return c=arguments[0],a=arguments[1],b=3<=arguments.length?x.call(arguments,2):[],"function"==typeof c[a]?c[a].apply(c,b):c[a]};t=function(){var b,a,c,d,e,h,k;
a=arguments[0];d=2<=arguments.length?x.call(arguments,1):[];h=0;for(k=d.length;k>h;h++)if(c=d[h])for(b in c)da.call(c,b)&&(e=c[b],null!=a[b]&&"object"==typeof a[b]&&null!=e&&"object"==typeof e?t(a[b],e):a[b]=e);return a};Y=function(b){var a,c,d,e,h;e=c=a=0;for(h=b.length;h>e;e++)d=b[e],c+=Math.abs(d),a++;return c/a};l=function(){function b(){}return b.prototype.on=function(a,b,d,e){var c;return null==e&&(e=!1),null==this.bindings&&(this.bindings={}),null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push({handler:b,
ctx:d,once:e})},b.prototype.once=function(a,b,d){return this.on(a,b,d,!0)},b.prototype.off=function(a,b){var c,e;if(null!=(null!=(c=this.bindings)?c[a]:void 0)){if(null==b)return delete this.bindings[a];c=0;for(e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},b.prototype.trigger=function(){var a,b,d,e,h,k,f;if(d=arguments[0],a=2<=arguments.length?x.call(arguments,1):[],null!=(b=this.bindings)?b[d]:void 0){h=0;for(f=[];h<this.bindings[d].length;)k=
this.bindings[d][h],e=k.handler,b=k.ctx,k=k.once,e.apply(null!=b?b:this,a),f.push(k?this.bindings[d].splice(h,1):h++);return f}},b}();f=window.Pace||{};window.Pace=f;t(f,l.prototype);g=f.options=t({},n,window.paceOptions,function(b,a){var c;if(null==b&&(b="options"),null==a&&(a=!0),c=document.querySelector("[data-pace-"+b+"]")){if(c=c.getAttribute("data-pace-"+b),!a)return c;try{return JSON.parse(c)}catch(d){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",
d):void 0}}}());R=["ajax","document","eventLag","elements"];l=0;for(y=R.length;y>l;l++)m=R[l],!0===g[m]&&(g[m]=n[m]);B=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}return ea(a,b),a}(Error);S=function(){function b(){this.progress=0}return b.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(g.target),!a)throw new B;this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,
"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},b.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=
" pace-done"},b.prototype.update=function(a){return this.progress=a,this.render()},b.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){B=a}return this.el=void 0},b.prototype.render=function(){var a,b,d,e,h,k,f;if(null==document.querySelector(g.target))return!1;a=this.getElement();e="translate3d("+this.progress+"%, 0, 0)";f=["webkitTransform","msTransform","transform"];h=0;for(k=f.length;k>h;h++)b=f[h],a.children[0].style[b]=e;return(!this.lastRenderedProgress||
this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),100<=this.progress?d="99":(d=10>this.progress?"0":"",d+=0|this.progress),a.children[0].setAttribute("data-progress",""+d)),this.lastRenderedProgress=this.progress},b.prototype.done=function(){return 100<=this.progress},b}();n=function(){function b(){this.bindings={}}return b.prototype.trigger=function(a,b){var c,e,h,k,f;if(null!=this.bindings[a]){k=this.bindings[a];f=[];e=0;for(h=
k.length;h>e;e++)c=k[e],f.push(c.call(this,b));return f}},b.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},b}();Q=window.XMLHttpRequest;H=window.XDomainRequest;w=window.WebSocket;E=function(b,a){var c,d;d=[];for(c in a.prototype)try{d.push(null==b[c]&&"function"!=typeof a[c]?"function"==typeof Object.defineProperty?Object.defineProperty(b,c,{get:function(){return a.prototype[c]},configurable:!0,enumerable:!0}):b[c]=a.prototype[c]:void 0)}catch(e){}return d};
p=[];f.ignore=function(){var b,a,c;return a=arguments[0],b=2<=arguments.length?x.call(arguments,1):[],p.unshift("ignore"),c=a.apply(null,b),p.shift(),c};f.track=function(){var b,a,c;return a=arguments[0],b=2<=arguments.length?x.call(arguments,1):[],p.unshift("track"),c=a.apply(null,b),p.shift(),c};G=function(b){var a;return(null==b&&(b="GET"),"track"===p[0])?"force":!p.length&&g.ajax&&("socket"===b&&g.ajax.trackWebSockets||(a=b.toUpperCase(),0<=fa.call(g.ajax.trackMethods,a)))?!0:!1};U=function(b){function a(){var b,
d=this;a.__super__.constructor.apply(this,arguments);b=function(a){var b;return b=a.open,a.open=function(c,e){return G(c)&&d.trigger("request",{type:c,url:e,request:a}),b.apply(a,arguments)}};window.XMLHttpRequest=function(a){var c;return c=new Q(a),b(c),c};try{E(window.XMLHttpRequest,Q)}catch(e){}if(null!=H){window.XDomainRequest=function(){var a;return a=new H,b(a),a};try{E(window.XDomainRequest,H)}catch(e){}}if(null!=w&&g.ajax.trackWebSockets){window.WebSocket=function(a,b){var c;return c=null!=
b?new w(a,b):new w(a),G("socket")&&d.trigger("request",{type:"socket",url:a,protocols:b,request:c}),c};try{E(window.WebSocket,w)}catch(e){}}}return ea(a,b),a}(n);I=null;L=function(){return null==I&&(I=new U),I};O=function(b){var a,c,d,e;e=g.ajax.ignoreURLs;c=0;for(d=e.length;d>c;c++)if(a=e[c],"string"==typeof a){if(-1!==b.indexOf(a))return!0}else if(a.test(b))return!0;return!1};L().on("request",function(b){var a,c,d,e,h;return e=b.type,d=b.request,h=b.url,O(h)?void 0:f.running||!1===g.restartOnRequestAfter&&
"force"!==G(e)?void 0:(c=arguments,a=g.restartOnRequestAfter||0,"boolean"==typeof a&&(a=0),setTimeout(function(){var a,b,h,g;if("socket"===e?2>d.readyState:0<(a=d.readyState)&&4>a){f.restart();h=f.sources;g=[];a=0;for(b=h.length;b>a;a++){if(m=h[a],m instanceof J){m.watch.apply(m,c);break}g.push(void 0)}return g}},a))});J=function(){function b(){var a=this;this.elements=[];L().on("request",function(){return a.watch.apply(a,arguments)})}return b.prototype.watch=function(a){var b,d,e,f;return e=a.type,
b=a.request,f=a.url,O(f)?void 0:(d="socket"===e?new W(b):new X(b),this.elements.push(d))},b}();X=function(){return function(b){var a,c,d,e,f,g=this;if(this.progress=0,null!=window.ProgressEvent)for(b.addEventListener("progress",function(a){return g.progress=a.lengthComputable?100*a.loaded/a.total:g.progress+(100-g.progress)/2},!1),f=["load","abort","timeout","error"],c=0,d=f.length;d>c;c++)a=f[c],b.addEventListener(a,function(){return g.progress=100},!1);else e=b.onreadystatechange,b.onreadystatechange=
function(){var a;return 0===(a=b.readyState)||4===a?g.progress=100:3===b.readyState&&(g.progress=50),"function"==typeof e?e.apply(null,arguments):void 0}}}();W=function(){return function(b){var a,c,d,e,f=this;this.progress=0;e=["error","open"];c=0;for(d=e.length;d>c;c++)a=e[c],b.addEventListener(a,function(){return f.progress=100},!1)}}();l=function(){return function(b){var a,c,d;null==b&&(b={});this.elements=[];null==b.selectors&&(b.selectors=[]);d=b.selectors;a=0;for(c=d.length;c>a;a++)b=d[a],this.elements.push(new T(b))}}();
T=function(){function b(a){this.selector=a;this.progress=0;this.check()}return b.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},g.elements.checkInterval)},b.prototype.done=function(){return this.progress=100},b}();n=function(){function b(){var a,b,d=this;this.progress=null!=(b=this.states[document.readyState])?b:100;a=document.onreadystatechange;document.onreadystatechange=function(){return null!=d.states[document.readyState]&&
(d.progress=d.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return b.prototype.states={loading:0,interactive:50,complete:100},b}();y=function(){return function(){var b,a,c,d,e,f=this;b=this.progress=0;e=[];d=0;c=u();a=setInterval(function(){var h;return h=u()-c-50,c=u(),e.push(h),e.length>g.eventLag.sampleCount&&e.shift(),b=Y(e),++d>=g.eventLag.minSamples&&b<g.eventLag.lagThreshold?(f.progress=100,clearInterval(a)):f.progress=3/(b+3)*100},50)}}();K=function(){function b(a){this.source=
a;this.last=this.sinceLastUpdate=0;this.rate=g.initialRate;this.progress=this.lastProgress=this.catchup=0;null!=this.source&&(this.progress=N(this.source,"progress"))}return b.prototype.tick=function(a,b){var c;return null==b&&(b=N(this.source,"progress")),100<=b&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/g.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=
this.catchup*a),c=1-Math.pow(this.progress/100,g.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+g.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},b}();C=q=P=r=A=z=null;f.running=!1;M=function(){return g.restartOnPushState?f.restart():void 0};null!=window.history.pushState&&(ba=window.history.pushState,window.history.pushState=function(){return M(),
ba.apply(window.history,arguments)});null!=window.history.replaceState&&(ca=window.history.replaceState,window.history.replaceState=function(){return M(),ca.apply(window.history,arguments)});V={ajax:J,elements:l,document:n,eventLag:y};(Z=function(){var b,a,c,d,e;f.sources=z=[];e=["ajax","elements","document","eventLag"];a=0;for(d=e.length;d>a;a++)b=e[a],!1!==g[b]&&z.push(new V[b](g[b]));b=null!=(c=g.extraSources)?c:[];c=0;for(a=b.length;a>c;c++)m=b[c],z.push(new m(g));return f.bar=r=new S,A=[],P=
new K})();f.stop=function(){return f.trigger("stop"),f.running=!1,r.destroy(),C=!0,null!=q&&("function"==typeof D&&D(q),q=null),Z()};f.restart=function(){return f.trigger("restart"),f.stop(),f.start()};f.go=function(){var b;return f.running=!0,r.render(),b=u(),C=!1,q=aa(function(a,c){var d,e,h,k,v,l,n,p,q,t,w,x,y;e=p=0;h=!0;v=q=0;for(w=z.length;w>q;v=++q)for(m=z[v],n=null!=A[v]?A[v]:A[v]=[],v=null!=(y=m.elements)?y:[m],l=t=0,x=v.length;x>t;l=++t)k=v[l],k=null!=n[l]?n[l]:n[l]=new K(k),h&=k.done,k.done||
(e++,p+=k.tick(a));return d=p/e,r.update(P.tick(a,d)),r.done()||h||C?(r.update(100),f.trigger("done"),setTimeout(function(){return r.finish(),f.running=!1,f.trigger("hide")},Math.max(g.ghostTime,Math.max(g.minTime-(u()-b),0)))):c()})};f.start=function(b){t(g,b);f.running=!0;try{r.render()}catch(a){B=a}return document.querySelector(".pace")?(f.trigger("start"),f.go()):setTimeout(f.start,50)};"function"==typeof define&&define.amd?define(["pace"],function(){return f}):"object"==typeof exports?module.exports=
f:g.startOnPageLoad&&f.start()}).call(this);
