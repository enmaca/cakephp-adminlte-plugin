var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(h,m,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");h!=Array.prototype&&h!=Object.prototype&&(h[m]=l.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(h){var m=0;return $jscomp.iteratorPrototype(function(){return m<h.length?{done:!1,value:h[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(h,m){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var l=0,r={next:function(){if(l<h.length){var p=l++;return{value:m(p,h[p]),done:!1}}r.next=function(){return{done:!0,value:void 0}};return r.next()}};r[Symbol.iterator]=function(){return r};return r};
$jscomp.polyfill=function(h,m,l,r){if(m){l=$jscomp.global;h=h.split(".");for(r=0;r<h.length-1;r++){var p=h[r];p in l||(l[p]={});l=l[p]}h=h[h.length-1];r=l[h];m=m(r);m!=r&&null!=m&&$jscomp.defineProperty(l,h,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6-impl","es3");
$jscomp.findInternal=function(h,m,l){h instanceof String&&(h=String(h));for(var r=h.length,p=0;p<r;p++){var A=h[p];if(m.call(l,A,p,h))return{i:p,v:A}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(h,l){return $jscomp.findInternal(this,h,l).v}},"es6-impl","es3");
(function(h){"function"===typeof define&&define.amd?define(["jquery"],h):"object"===typeof module&&module.exports?module.exports=h(require("jquery")):h(window.jQuery)})(function(h){var m=function(){var a=0;return{eq:function(a){return function(b){return a===b}},eq2:function(a,b){return a===b},peq2:function(a){return function(b,d){return b[a]===d[a]}},ok:function(){return!0},fail:function(){return!1},self:function(a){return a},not:function(a){return function(){return!a.apply(a,arguments)}},and:function(a,
b){return function(d){return a(d)&&b(d)}},invoke:function(a,b){return function(){return a[b].apply(a,arguments)}},uniqueId:function(e){var b=++a+"";return e?e+b:b},rect2bnd:function(a){var b=h(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}},invertObject:function(a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[a[d]]=d);return b},namespaceToCamel:function(a,b){return(b||"")+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+
a.substring(1)}).join("")},debounce:function(a,b,d){var c;return function(){var k=this,g=arguments,e=d&&!c;clearTimeout(c);c=setTimeout(function(){c=null;d||a.apply(k,g)},b);e&&a.apply(k,g)}}}}(),l=function(){var a=function(a){return a[a.length-1]},e=function(a){return a.slice(1)},b=function(a,c){return-1!==h.inArray(c,a)};return{head:function(a){return a[0]},last:a,initial:function(a){return a.slice(0,a.length-1)},tail:e,prev:function(a,c){var b=h.inArray(c,a);return-1===b?null:a[b-1]},next:function(a,
c){var b=h.inArray(c,a);return-1===b?null:a[b+1]},find:function(a,c){for(var b=0,g=a.length;b<g;b++){var d=a[b];if(c(d))return d}},contains:b,all:function(a,c){for(var b=0,g=a.length;b<g;b++)if(!c(a[b]))return!1;return!0},sum:function(a,b){b=b||m.self;return a.reduce(function(a,c){return a+b(c)},0)},from:function(a){for(var b=[],d=-1,g=a.length;++d<g;)b[d]=a[d];return b},isEmpty:function(a){return!a||!a.length},clusterBy:function(b,c){return b.length?e(b).reduce(function(b,g){var d=a(b);c(a(d),g)?
d[d.length]=g:b[b.length]=[g];return b},[[b[0]]]):[]},compact:function(a){for(var b=[],d=0,g=a.length;d<g;d++)a[d]&&b.push(a[d]);return b},unique:function(a){for(var c=[],d=0,g=a.length;d<g;d++)b(c,a[d])||c.push(a[d]);return c}}}(),r="function"===typeof define&&define.amd,p=navigator.userAgent,A=/MSIE|Trident/i.test(p),G;if(A){var y=/MSIE (\d+[.]\d+)/.exec(p);y&&(G=parseFloat(y[1]));(y=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(p))&&(G=parseFloat(y[1]))}var y=/Edge\/\d+/.test(p),D=!!window.CodeMirror;
if(!D&&r&&"undefined"!==typeof require)if("undefined"!==typeof require.resolve)try{require.resolve("codemirror"),D=!0}catch(a){}else"undefined"!==typeof eval("require").specified&&(D=eval("require").specified("codemirror"));var v={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:A,isEdge:y,isFF:!y&&/firefox/i.test(p),isPhantom:/PhantomJS/i.test(p),isWebkit:!y&&/webkit/i.test(p),isChrome:!y&&/chrome/i.test(p),isSafari:!y&&/safari/i.test(p),browserVersion:G,jqueryVersion:parseFloat(h.fn.jquery),
isSupportAmd:r,hasCodeMirror:D,isFontInstalled:function(a){var e="Comic Sans MS"===a?"Courier New":"Comic Sans MS",b=h("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),d=b.css("fontFamily",e).width();a=b.css("fontFamily",a+","+e).width();b.remove();return d!==a},isW3CRangeSupport:!!document.createRange},U=String.fromCharCode(160),f=function(){var a=function(a){return a&&h(a).hasClass("note-editable")},e=function(a){a=
a.toUpperCase();return function(b){return b&&b.nodeName.toUpperCase()===a}},b=function(a){return a&&3===a.nodeType},d=function(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(a.nodeName.toUpperCase())},c=function(b){return a(b)?!1:b&&/^DIV|^P|^LI|^H[1-7]/.test(b.nodeName.toUpperCase())},k=e("PRE"),g=e("LI"),n=e("TABLE"),t=e("DATA"),x=function(a){return!B(a)&&!C(a)&&!Y(a)&&!c(a)&&!n(a)&&!H(a)&&!t(a)},C=function(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())},Y=e("HR"),I=function(a){return a&&
/^TD|^TH/.test(a.nodeName.toUpperCase())},H=e("BLOCKQUOTE"),B=function(b){return I(b)||H(b)||a(b)},E=e("A"),u=e("BODY"),L=v.isMSIE&&11>v.browserVersion?"&nbsp;":"<br>",p=function(a){return b(a)?a.nodeValue.length:a?a.childNodes.length:0},Q=function(a){var c=p(a);return 0===c||!b(a)&&1===c&&a.innerHTML===L||l.all(a.childNodes,b)&&""===a.innerHTML?!0:!1},P=function(b,c){for(;b;){if(c(b))return b;if(a(b))break;b=b.parentNode}return null},J=function(b,c){c=c||m.fail;var g=[];P(b,function(b){a(b)||g.push(b);
return c(b)});return g},r=function(a,b){b=b||m.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c},w=function(a,b){var c=b.nextSibling,g=b.parentNode;c?g.insertBefore(a,c):g.appendChild(a);return a},q=function(a,b){h.each(b,function(b,c){a.appendChild(c)});return a},y=function(a){return 0===a.offset},z=function(a){return a.offset===p(a.node)},A=function(a){return y(a)||z(a)},D=function(a,b){for(;a&&a!==b;){if(0!==K(a))return!1;a=a.parentNode}return!0},G=function(a,b){if(!b)return!1;for(;a&&
a!==b;){if(K(a)!==p(a.parentNode)-1)return!1;a=a.parentNode}return!0},K=function(a){for(var b=0;a=a.previousSibling;)b+=1;return b},F=function(a){return!!(a&&a.childNodes&&a.childNodes.length)},M=function(b,c){var g,d;if(0===b.offset){if(a(b.node))return null;g=b.node.parentNode;d=K(b.node)}else F(b.node)?(g=b.node.childNodes[b.offset-1],d=p(g)):(g=b.node,d=c?0:b.offset-1);return{node:g,offset:d}},R=function(b,c){var g,d;if(p(b.node)===b.offset){if(a(b.node))return null;g=b.node.parentNode;d=K(b.node)+
1}else F(b.node)?(g=b.node.childNodes[b.offset],d=0):(g=b.node,d=c?p(b.node):b.offset+1);return{node:g,offset:d}},N=function(a,b){return a.node===b.node&&a.offset===b.offset},S=function(a,c){var g=c&&c.isSkipPaddingBlankHTML,e=c&&c.isNotSplitEdgePoint;if(A(a)&&(b(a.node)||e)){if(y(a))return a.node;if(z(a))return a.node.nextSibling}if(b(a.node))return a.node.splitText(a.offset);var k=a.node.childNodes[a.offset],e=w(a.node.cloneNode(!1),a.node);q(e,r(k));g||(g=a.node,d(g)||p(g)||(g.innerHTML=L),d(e)||
p(e)||(e.innerHTML=L));return e},O=function(a,b,c){a=J(b.node,m.eq(a));return a.length?1===a.length?S(b,c):a.reduce(function(a,g){a===b.node&&(a=S(b,c));return S({node:g,offset:a?f.position(a):p(g)},c)}):null},V=function(a){return document.createElement(a)},T=function(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){var g=[],d,e;d=0;for(e=a.childNodes.length;d<e;d++)g.push(a.childNodes[d]);d=0;for(e=g.length;d<e;d++)c.insertBefore(g[d],a)}c.removeChild(a)}},
W=e("TEXTAREA"),X=function(a,b){var c=W(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c};return{NBSP_CHAR:U,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:L,emptyPara:"<p>"+L+"</p>",makePredByNodeName:e,isEditable:a,isControlSizing:function(a){return a&&h(a).hasClass("note-control-sizing")},isText:b,isElement:function(a){return a&&1===a.nodeType},isVoid:d,isPara:c,isPurePara:function(a){return c(a)&&!g(a)},isHeading:function(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())},isInline:x,isBlock:m.not(x),
isBodyInline:function(a){return x(a)&&!P(a,c)},isBody:u,isParaInline:function(a){return x(a)&&!!P(a,c)},isPre:k,isList:C,isTable:n,isData:t,isCell:I,isBlockquote:H,isBodyContainer:B,isAnchor:E,isDiv:e("DIV"),isLi:g,isBR:e("BR"),isSpan:e("SPAN"),isB:e("B"),isU:e("U"),isS:e("S"),isI:e("I"),isImg:e("IMG"),isTextarea:W,isEmpty:Q,isEmptyAnchor:m.and(E,Q),isClosestSibling:function(a,b){return a.nextSibling===b||a.previousSibling===b},withClosestSiblings:function(a,b){b=b||m.ok;var c=[];a.previousSibling&&
b(a.previousSibling)&&c.push(a.previousSibling);c.push(a);a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling);return c},nodeLength:p,isLeftEdgePoint:y,isRightEdgePoint:z,isEdgePoint:A,isLeftEdgeOf:D,isRightEdgeOf:G,isLeftEdgePointOf:function(a,b){return y(a)&&D(a.node,b)},isRightEdgePointOf:function(a,b){return z(a)&&G(a.node,b)},prevPoint:M,nextPoint:R,isSamePoint:N,isVisiblePoint:function(a){if(b(a.node)||!F(a.node)||Q(a.node))return!0;var c=a.node.childNodes[a.offset-1];a=a.node.childNodes[a.offset];
return c&&!d(c)||a&&!d(a)?!1:!0},prevPointUntil:function(a,b){for(;a;){if(b(a))return a;a=M(a)}return null},nextPointUntil:function(a,b){for(;a;){if(b(a))return a;a=R(a)}return null},isCharPoint:function(a){return b(a.node)?(a=a.node.nodeValue.charAt(a.offset-1))&&" "!==a&&a!==U:!1},walkPoint:function(a,b,c,g){for(var d=a;d;){c(d);if(N(d,b))break;d=R(d,g&&a.node!==d.node&&b.node!==d.node)}},ancestor:P,singleChildAncestor:function(b,c){for(b=b.parentNode;b&&1===p(b);){if(c(b))return b;if(a(b))break;
b=b.parentNode}return null},listAncestor:J,lastAncestor:function(a,b){var c=J(a);return l.last(c.filter(b))},listNext:r,listPrev:function(a,b){b=b||m.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},listDescendant:function(a,b){var c=[];b=b||m.ok;(function Z(g){a!==g&&b(g)&&c.push(g);for(var d=0,e=g.childNodes.length;d<e;d++)Z(g.childNodes[d])})(a);return c},commonAncestor:function(a,b){for(var c=J(a),g=b;g;g=g.parentNode)if(-1<h.inArray(g,c))return g;return null},wrap:function(a,
b){var c=a.parentNode,g=h("<"+b+">")[0];c.insertBefore(g,a);g.appendChild(a);return g},insertAfter:w,appendChildNodes:q,position:K,hasChildren:F,makeOffsetPath:function(a,b){return J(b,m.eq(a)).map(K).reverse()},fromOffsetPath:function(a,b){for(var c=a,g=0,d=b.length;g<d;g++)c=c.childNodes.length<=b[g]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[g]];return c},splitTree:O,splitPoint:function(a,b){var g=b?c:B,d=J(a.node,g),e=l.last(d)||a.node;g(e)?g=d[d.length-2]:(g=e,e=g.parentNode);(g=g&&O(g,
a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b}))||e!==a.node||(g=a.node.childNodes[a.offset]);return{rightNode:g,container:e}},create:V,createText:function(a){return document.createTextNode(a)},remove:T,removeWhile:function(b,c){for(;b&&!a(b)&&c(b);){var g=b.parentNode;T(b);b=g}},replace:function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=V(b);a.style.cssText&&(c.style.cssText=a.style.cssText);q(c,l.from(a.childNodes));w(c,a);T(a);return c},html:function(a,b){var c=X(a);
b&&(c=c.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(a,b,c){c=c.toUpperCase();b=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b;c=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(b||c?"\n":"")}),c=h.trim(c));return c},value:X,posFromPlaceholder:function(a){var b=h(a);a=b.offset();b=b.outerHeight(!0);return{left:a.left,top:a.top+b}},attachEvents:function(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})},detachEvents:function(a,b){Object.keys(b).forEach(function(c){a.off(c,
b[c])})}}}(),aa=function(a,e){var b=this,d=h.summernote.ui;this.memos={};this.modules={};this.layoutInfo={};this.options=e;this.initialize=function(){this.layoutInfo=d.createLayout(a,e);this._initialize();a.hide();return this};this.destroy=function(){this._destroy();a.removeData("summernote");d.removeLayout(a,this.layoutInfo)};this.reset=function(){var a=b.isDisabled();this.code(f.emptyPara);this._destroy();this._initialize();a&&b.disable()};this._initialize=function(){var a=h.extend({},this.options.buttons);
Object.keys(a).forEach(function(c){b.memo("button."+c,a[c])});var d=h.extend({},this.options.modules,h.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)});Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})};this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(a){b.removeModule(a)});Object.keys(this.memos).forEach(function(a){b.removeMemo(a)})};this.code=function(b){var c=this.invoke("codeview.isActivated");if(void 0===b)return this.invoke("codeview.sync"),
c?this.layoutInfo.codable.val():this.layoutInfo.editable.html();c?this.layoutInfo.codable.val(b):this.layoutInfo.editable.html(b);a.val(b);this.triggerEvent("change",b)};this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")};this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0);this.invoke("toolbar.activate",!0)};this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate");this.layoutInfo.editable.attr("contenteditable",
!1);this.invoke("toolbar.deactivate",!0)};this.triggerEvent=function(){var b=l.head(arguments),d=l.tail(l.from(arguments)),g=this.options.callbacks[m.namespaceToCamel(b,"on")];g&&g.apply(a[0],d);a.trigger("summernote."+b,d)};this.initializeModule=function(b){b=this.modules[b];b.shouldInitialize=b.shouldInitialize||m.ok;b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&f.attachEvents(a,b.events))};this.module=function(a,b,g){if(1===arguments.length)return this.modules[a];this.modules[a]=
new b(this);g||this.initializeModule(a)};this.removeModule=function(b){var c=this.modules[b];c.shouldInitialize()&&(c.events&&f.detachEvents(a,c.events),c.destroy&&c.destroy());delete this.modules[b]};this.memo=function(a,b){if(1===arguments.length)return this.memos[a];this.memos[a]=b};this.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy();delete this.memos[a]};this.createInvokeHandler=function(a,d){return function(c){c.preventDefault();b.invoke(a,d||h(c.target).closest("[data-value]").data("value"))}};
this.invoke=function(){var a=l.head(arguments),b=l.tail(l.from(arguments)),g=a.split("."),d=1<g.length,a=d&&l.head(g),g=d?l.last(g):l.head(g),d=this.modules[a||"editor"];if(!a&&this[g])return this[g].apply(this,b);if(d&&d[g]&&d.shouldInitialize())return d[g].apply(d,b)};return this.initialize()};h.fn.extend({summernote:function(){var a=h.type(l.head(arguments)),e="string"===a,b="object"===a?l.head(arguments):{},b=h.extend({},h.summernote.options,b);b.langInfo=h.extend(!0,{},h.summernote.lang["en-US"],
h.summernote.lang[b.lang]);b.icons=h.extend(!0,{},h.summernote.options.icons,b.icons);this.each(function(a,c){var d=h(c);if(!d.data("summernote")){var g=new aa(d,b);d.data("summernote",g);d.data("summernote").triggerEvent("init",g.layoutInfo)}});a=this.first();if(a.length){a=a.data("summernote");if(e)return a.invoke.apply(a,l.from(arguments));b.focus&&a.invoke("editor.focus")}return this}});var ba=function(a,e,b,d){this.render=function(c){var k=h(a);b&&b.contents&&k.html(b.contents);b&&b.className&&
k.addClass(b.className);b&&b.data&&h.each(b.data,function(a,b){k.attr("data-"+a,b)});if(b&&b.click)k.on("click",b.click);if(e){var g=k.find(".note-children-container");e.forEach(function(a){a.render(g.length?g:k)})}d&&d(k,b);b&&b.callback&&b.callback(k);c&&c.append(k);return k}},q={create:function(a,e){return function(b,d){var c=h.isArray(b)?b:[],k="object"===typeof d?d:b;k&&k.children&&(c=k.children);return new ba(a,c,k,e)}}},r=q.create('<div class="note-editor note-frame panel panel-default"/>'),
p=q.create('<div class="note-toolbar panel-heading"/>'),A=q.create('<div class="note-editing-area"/>');G=q.create('<textarea class="note-codable"/>');var y=q.create('<div class="note-editable panel-body" contentEditable="true"/>'),D=q.create('<div class="note-statusbar">  <div class="note-resizebar">    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>  </div></div>'),ca=q.create('<div class="note-editor"/>'),da=q.create('<div class="note-editable" contentEditable="true"/>'),
ea=q.create('<div class="note-btn-group btn-group">'),fa=q.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(a,e){e&&e.tooltip&&a.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),ga=q.create('<div class="dropdown-menu">',function(a,e){var b=h.isArray(e.items)?e.items.map(function(a){var b="string"===typeof a?a:a.value||"";a=e.template?e.template(a):a;return'<li><a href="#" data-value="'+b+'">'+a+"</a></li>"}).join(""):
e.items;a.html(b)}),ha=q.create('<div class="dropdown-menu note-check">',function(a,e){var b=h.isArray(e.items)?e.items.map(function(a){var b="string"===typeof a?a:a.value||"";a=e.template?e.template(a):a;return'<li><a href="#" data-value="'+b+'">'+M(e.checkClassName)+" "+a+"</a></li>"}).join(""):e.items;a.html(b)}),ia=q.create('<div class="note-color-palette"/>',function(a,e){for(var b=[],d=0,c=e.colors.length;d<c;d++){for(var k=e.eventName,g=e.colors[d],f=[],h=0,x=g.length;h<x;h++){var C=g[h];f.push(['<button type="button" class="note-color-btn"style="background-color:',
C,'" data-event="',k,'" data-value="',C,'" title="',C,'" data-toggle="button" tabindex="-1"></button>'].join(""))}b.push('<div class="note-color-row">'+f.join("")+"</div>")}a.html(b.join(""));a.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),ja=q.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(a,e){e.fade&&a.addClass("fade");a.html(['<div class="modal-dialog">  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+
e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div></div>"].join(""))}),q=q.create('<div class="note-popover popover in">  <div class="arrow"/>  <div class="popover-content note-children-container"/></div>',function(a,e){a.addClass("undefined"!==typeof e.direction?e.direction:"bottom");e.hideArrow&&a.find(".arrow").hide()}),M=function(a,e){return"<"+(e||"i")+' class="'+a+'"/>'},z={editor:r,toolbar:p,editingArea:A,
codable:G,editable:y,statusbar:D,airEditor:ca,airEditable:da,buttonGroup:ea,button:fa,dropdown:ga,dropdownCheck:ha,palette:ia,dialog:ja,popover:q,icon:M,toggleBtn:function(a,e){a.toggleClass("disabled",!e);a.attr("disabled",!e)},toggleBtnActive:function(a,e){a.toggleClass("active",e)},onDialogShown:function(a,e){a.one("shown.bs.modal",e)},onDialogHidden:function(a,e){a.one("hidden.bs.modal",e)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,
e){var b=(e.airMode?z.airEditor([z.editingArea([z.airEditable()])]):z.editor([z.toolbar(),z.editingArea([z.codable(),z.editable()]),z.statusbar()])).render();b.insertAfter(a);return{note:a,editor:b,toolbar:b.find(".note-toolbar"),editingArea:b.find(".note-editing-area"),editable:b.find(".note-editable"),codable:b.find(".note-codable"),statusbar:b.find(".note-statusbar")}},removeLayout:function(a,e){a.html(e.editable.html());e.editor.remove();a.show()}};h.summernote=h.summernote||{lang:{}};h.extend(h.summernote.lang,
{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",
shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",
url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",
right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",
undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",
formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",
select:"Select Special characters"}}});var w=function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return l.contains([a.BACKSPACE,a.TAB,a.ENTER,a.SPACE],e)},isMove:function(e){return l.contains([a.LEFT,a.UP,a.RIGHT,a.DOWN],e)},nameFromCode:m.invertObject(a),
code:a}}(),u=function(){var a=function(a,b){var c=a.parentElement(),g,d=document.body.createTextRange(),e,x=l.from(c.childNodes);for(g=0;g<x.length;g++)if(!f.isText(x[g])){d.moveToElementText(x[g]);if(0<=d.compareEndPoints("StartToStart",a))break;e=x[g]}if(0!==g&&f.isText(x[g-1])){g=document.body.createTextRange();g.moveToElementText(e||c);g.collapse(!e);c=e?e.nextSibling:c.firstChild;e=a.duplicate();e.setEndPoint("StartToStart",g);for(e=e.text.replace(/[\r\n]/g,"").length;e>c.nodeValue.length&&c.nextSibling;)e-=
c.nodeValue.length,c=c.nextSibling;b&&c.nextSibling&&f.isText(c.nextSibling)&&e===c.nodeValue.length&&(e-=c.nodeValue.length,c=c.nextSibling);g=e}return{cont:c,offset:g}},e=function(a){var b=function(a,c){var g,d;if(f.isText(a)){d=f.listPrev(a,m.not(f.isText));var e=l.last(d).previousSibling;g=e||a.parentNode;c+=l.sum(l.tail(d),f.nodeLength);d=!e}else{g=a.childNodes[c]||a;if(f.isText(g))return b(g,0);c=0;d=!1}return{node:g,collapseToStart:d,offset:c}},d=document.body.createTextRange();a=b(a.node,
a.offset);d.moveToElementText(a.node);d.collapse(a.collapseToStart);d.moveStart("character",a.offset);return d},b=function(a,c,k,g){this.sc=a;this.so=c;this.ec=k;this.eo=g;var d=function(){if(v.isW3CRangeSupport){var b=document.createRange();b.setStart(a,c);b.setEnd(k,g);return b}b=e({node:a,offset:c});b.setEndPoint("EndToEnd",e({node:k,offset:g}));return b};this.getPoints=function(){return{sc:a,so:c,ec:k,eo:g}};this.getStartPoint=function(){return{node:a,offset:c}};this.getEndPoint=function(){return{node:k,
offset:g}};this.select=function(){var a=d();if(v.isW3CRangeSupport){var b=document.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(a)}else a.select();return this};this.scrollIntoView=function(a){var b=h(a).height();a.scrollTop+b<this.sc.offsetTop&&(a.scrollTop+=Math.abs(a.scrollTop+b-this.sc.offsetTop));return this};this.normalize=function(){var a=function(a,b){if(f.isVisiblePoint(a)&&!f.isEdgePoint(a)||f.isVisiblePoint(a)&&f.isRightEdgePoint(a)&&!b||f.isVisiblePoint(a)&&f.isLeftEdgePoint(a)&&
b||f.isVisiblePoint(a)&&f.isBlock(a.node)&&f.isEmpty(a.node))return a;var c=f.ancestor(a.node,f.isBlock);if((f.isLeftEdgePointOf(a,c)||f.isVoid(f.prevPoint(a).node))&&!b||(f.isRightEdgePointOf(a,c)||f.isVoid(f.nextPoint(a).node))&&b){if(f.isVisiblePoint(a))return a;b=!b}return(b?f.nextPointUntil(f.nextPoint(a),f.isVisiblePoint):f.prevPointUntil(f.prevPoint(a),f.isVisiblePoint))||a},c=a(this.getEndPoint(),!1),a=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(a.node,a.offset,c.node,c.offset)};
this.nodes=function(a,b){a=a||m.ok;var c=b&&b.includeAncestor,g=b&&b.fullyContains,d=this.getStartPoint(),e=this.getEndPoint(),k=[],h=[];f.walkPoint(d,e,function(b){if(!f.isEditable(b.node)){var d;g?(f.isLeftEdgePoint(b)&&h.push(b.node),f.isRightEdgePoint(b)&&l.contains(h,b.node)&&(d=b.node)):d=c?f.ancestor(b.node,a):b.node;d&&a(d)&&k.push(d)}},!0);return l.unique(k)};this.commonAncestor=function(){return f.commonAncestor(a,k)};this.expand=function(d){var e=f.ancestor(a,d);d=f.ancestor(k,d);if(!e&&
!d)return new b(a,c,k,g);var h=this.getPoints();e&&(h.sc=e,h.so=0);d&&(h.ec=d,h.eo=f.nodeLength(d));return new b(h.sc,h.so,h.ec,h.eo)};this.collapse=function(d){return d?new b(a,c,a,c):new b(k,g,k,g)};this.splitText=function(){var d=a===k,e=this.getPoints();f.isText(k)&&!f.isEdgePoint(this.getEndPoint())&&k.splitText(g);f.isText(a)&&!f.isEdgePoint(this.getStartPoint())&&(e.sc=a.splitText(c),e.so=0,d&&(e.ec=e.sc,e.eo=g-c));return new b(e.sc,e.so,e.ec,e.eo)};this.deleteContents=function(){if(this.isCollapsed())return this;
var a=this.splitText(),c=a.nodes(null,{fullyContains:!0}),g=f.prevPointUntil(a.getStartPoint(),function(a){return!l.contains(c,a.node)}),d=[];h.each(c,function(a,b){var c=b.parentNode;g.node!==c&&1===f.nodeLength(c)&&d.push(c);f.remove(b,!1)});h.each(d,function(a,b){f.remove(b,!1)});return(new b(g.node,g.offset,g.node,g.offset)).normalize()};var t=function(b){return function(){var c=f.ancestor(a,b);return!!c&&c===f.ancestor(k,b)}};this.isOnEditable=t(f.isEditable);this.isOnList=t(f.isList);this.isOnAnchor=
t(f.isAnchor);this.isOnCell=t(f.isCell);this.isOnData=t(f.isData);this.isLeftEdgeOf=function(a){return f.isLeftEdgePoint(this.getStartPoint())?(a=f.ancestor(this.sc,a))&&f.isLeftEdgeOf(this.sc,a):!1};this.isCollapsed=function(){return a===k&&c===g};this.wrapBodyInlineWithPara=function(){if(f.isBodyContainer(a)&&f.isEmpty(a))return a.innerHTML=f.emptyPara,new b(a.firstChild,0,a.firstChild,0);var c=this.normalize();if(f.isParaInline(a)||f.isPara(a))return c;var g;if(f.isInline(c.sc)){var d=f.listAncestor(c.sc,
m.not(f.isInline));g=l.last(d);f.isInline(g)||(g=d[d.length-2]||c.sc.childNodes[c.so])}else g=c.sc.childNodes[0<c.so?c.so-1:0];c=f.listPrev(g,f.isParaInline).reverse();c=c.concat(f.listNext(g.nextSibling,f.isParaInline));c.length&&(g=f.wrap(l.head(c),"p"),f.appendChildNodes(g,l.tail(c)));return this.normalize()};this.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),b=f.splitPoint(b.getStartPoint(),f.isInline(a));b.rightNode?b.rightNode.parentNode.insertBefore(a,b.rightNode):
b.container.appendChild(a);return a};this.pasteHTML=function(a){a=h("<div></div>").html(a)[0];a=l.from(a.childNodes);var b=this.wrapBodyInlineWithPara().deleteContents();return a.reverse().map(function(a){return b.insertNode(a)}).reverse()};this.toString=function(){var a=d();return v.isW3CRangeSupport?a.toString():a.text};this.getWordRange=function(a){var c=this.getEndPoint();if(!f.isCharPoint(c))return this;var g=f.prevPointUntil(c,function(a){return!f.isCharPoint(a)});a&&(c=f.nextPointUntil(c,function(a){return!f.isCharPoint(a)}));
return new b(g.node,g.offset,c.node,c.offset)};this.bookmark=function(b){return{s:{path:f.makeOffsetPath(b,a),offset:c},e:{path:f.makeOffsetPath(b,k),offset:g}}};this.paraBookmark=function(b){return{s:{path:l.tail(f.makeOffsetPath(l.head(b),a)),offset:c},e:{path:l.tail(f.makeOffsetPath(l.last(b),k)),offset:g}}};this.getClientRects=function(){return d().getClientRects()}};return{create:function(a,c,e,g){if(4===arguments.length)return new b(a,c,e,g);if(2===arguments.length)return new b(a,c,a,c);var d=
this.createFromSelection();return d||1!==arguments.length?d:(d=this.createFromNode(arguments[0]),d.collapse(f.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var d,c,e,g;if(v.isW3CRangeSupport){d=document.getSelection();if(!d||0===d.rangeCount||f.isBody(d.anchorNode))return null;g=d.getRangeAt(0);d=g.startContainer;c=g.startOffset;e=g.endContainer;g=g.endOffset}else c=document.selection.createRange(),d=c.duplicate(),d.collapse(!1),c.collapse(!0),c=a(c,!0),g=a(d,!1),f.isText(c.node)&&
f.isLeftEdgePoint(c)&&f.isTextNode(g.node)&&f.isRightEdgePoint(g)&&g.node.nextSibling===c.node&&(c=g),d=c.cont,c=c.offset,e=g.cont,g=g.offset;return new b(d,c,e,g)},createFromNode:function(a){var b=a,d=0,g=f.nodeLength(a);f.isVoid(b)&&(d=f.listPrev(b).length-1,b=b.parentNode);f.isBR(a)?(g=f.listPrev(a).length-1,a=a.parentNode):f.isVoid(a)&&(g=f.listPrev(a).length,a=a.parentNode);return this.create(b,d,a,g)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},
createFromBookmark:function(a,c){var d=f.fromOffsetPath(a,c.s.path),g=c.s.offset,e=f.fromOffsetPath(a,c.e.path);return new b(d,g,e,c.e.offset)},createFromParaBookmark:function(a,c){var d=a.s.offset,g=a.e.offset,e=f.fromOffsetPath(l.head(c),a.s.path),h=f.fromOffsetPath(l.last(c),a.e.path);return new b(e,d,h,g)}}}(),N=function(){return{readFileAsDataURL:function(a){return h.Deferred(function(e){h.extend(new FileReader,{onload:function(a){e.resolve(a.target.result)},onerror:function(){e.reject(this)}}).readAsDataURL(a)}).promise()},
createImage:function(a){return h.Deferred(function(e){var b=h("<img>");b.one("load",function(){b.off("error abort");e.resolve(b)}).one("error abort",function(){b.off("load").detach();e.reject(b)}).css({display:"none"}).appendTo(document.body).attr("src",a)}).promise()}}}(),ka=function(a){var e=[],b=-1,d=a[0],c=function(){var b=u.create(d),c={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:a.html(),bookmark:b?b.bookmark(d):c}},k=function(b){null!==b.contents&&a.html(b.contents);null!==b.bookmark&&
u.createFromBookmark(d,b.bookmark).select()};this.rewind=function(){a.html()!==e[b].contents&&this.recordUndo();b=0;k(e[b])};this.reset=function(){e=[];b=-1;a.html("");this.recordUndo()};this.undo=function(){a.html()!==e[b].contents&&this.recordUndo();0<b&&(b--,k(e[b]))};this.redo=function(){e.length-1>b&&(b++,k(e[b]))};this.recordUndo=function(){b++;e.length>b&&(e=e.slice(0,b));e.push(c())}},la=function(){var a=function(a,b){if(1.9>v.jqueryVersion){var d={};h.each(b,function(b,e){d[e]=a.css(e)});
return d}return a.css.call(a,b)};this.fromNode=function(e){e=a(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};e["font-size"]=parseInt(e["font-size"],10);return e};this.stylePara=function(a,b){h.each(a.nodes(f.isPara,{includeAncestor:!0}),function(a,c){h(c).css(b)})};this.styleNodes=function(a,b){a=a.splitText();var d=b&&b.nodeName||"SPAN",c=!(!b||!b.expandClosestSibling),e=!(!b||!b.onlyPartialContains);if(a.isCollapsed())return[a.insertNode(f.create(d))];var g=f.makePredByNodeName(d),
n=a.nodes(f.isText,{fullyContains:!0}).map(function(a){return f.singleChildAncestor(a,g)||f.wrap(a,d)});if(c){if(e)var t=a.nodes(),g=m.and(g,function(a){return l.contains(t,a)});return n.map(function(a){a=f.withClosestSiblings(a,g);var b=l.head(a),c=l.tail(a);h.each(c,function(a,c){f.appendChildNodes(b,c.childNodes);f.remove(c)});return l.head(a)})}return n};this.current=function(a){var b=h(f.isElement(a.sc)?a.sc:a.sc.parentNode),b=this.fromNode(b);try{b=h.extend(b,{"font-bold":document.queryCommandState("bold")?
"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(c){}if(a.isOnList()){var d=-1<h.inArray(b["list-style-type"],["circle","disc",
"disc-leading-zero","square"]);b["list-style"]=d?"unordered":"ordered"}else b["list-style"]="none";(d=f.ancestor(a.sc,f.isPara))&&d.style["line-height"]?b["line-height"]=d.style.lineHeight:(d=parseInt(b["line-height"],10)/parseInt(b["font-size"],10),b["line-height"]=d.toFixed(1));b.anchor=a.isOnAnchor()&&f.ancestor(a.sc,f.isAnchor);b.ancestors=f.listAncestor(a.sc,f.isEditable);b.range=a;return b}},O=function(){var a=this;this.insertOrderedList=function(a){this.toggleList("OL",a)};this.insertUnorderedList=
function(a){this.toggleList("UL",a)};this.indent=function(a){var b=this;a=u.create(a).wrapBodyInlineWithPara();var d=a.nodes(f.isPara,{includeAncestor:!0}),d=l.clusterBy(d,m.peq2("parentNode"));h.each(d,function(a,d){var c=l.head(d);f.isLi(c)?b.wrapList(d,c.parentNode.nodeName):h.each(d,function(a,b){h(b).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})});a.select()};this.outdent=function(a){var b=this;a=u.create(a).wrapBodyInlineWithPara();var d=a.nodes(f.isPara,{includeAncestor:!0}),
d=l.clusterBy(d,m.peq2("parentNode"));h.each(d,function(a,d){var c=l.head(d);f.isLi(c)?b.releaseList([d]):h.each(d,function(a,b){h(b).css("marginLeft",function(a,b){b=parseInt(b,10)||0;return 25<b?b-25:""})})});a.select()};this.toggleList=function(e,b){var d=u.create(b).wrapBodyInlineWithPara(),c=d.nodes(f.isPara,{includeAncestor:!0}),k=d.paraBookmark(c),g=l.clusterBy(c,m.peq2("parentNode"));if(l.find(c,f.isPurePara)){var n=[];h.each(g,function(b,c){n=n.concat(a.wrapList(c,e))});c=n}else d=d.nodes(f.isList,
{includeAncestor:!0}).filter(function(a){return!h.nodeName(a,e)}),d.length?h.each(d,function(a,b){f.replace(b,e)}):c=this.releaseList(g,!0);u.createFromParaBookmark(k,c).select()};this.wrapList=function(a,b){var d=l.head(a),c=l.last(a),e=f.isList(d.previousSibling)&&d.previousSibling,d=f.isList(c.nextSibling)&&c.nextSibling,c=e||f.insertAfter(f.create(b||"UL"),c);a=a.map(function(a){return f.isPurePara(a)?f.replace(a,"LI"):a});f.appendChildNodes(c,a);d&&(f.appendChildNodes(c,l.from(d.childNodes)),
f.remove(d));return a};this.releaseList=function(a,b){var d=[];h.each(a,function(a,e){var c=l.head(e),k=l.last(e),t=b?f.lastAncestor(c,f.isList):c.parentNode,k=1<t.childNodes.length?f.splitTree(t,{node:k.parentNode,offset:f.position(k)+1},{isSkipPaddingBlankHTML:!0}):null,c=f.splitTree(t,{node:c.parentNode,offset:f.position(c)},{isSkipPaddingBlankHTML:!0});e=b?f.listDescendant(c,f.isLi):l.from(c.childNodes).filter(f.isLi);if(b||!f.isList(t.parentNode))e=e.map(function(a){return f.replace(a,"P")});
h.each(l.from(e).reverse(),function(a,b){f.insertAfter(b,t)});c=l.compact([t,c,k]);h.each(c,function(a,b){var c=[b].concat(f.listDescendant(b,f.isList));h.each(c.reverse(),function(a,b){f.nodeLength(b)||f.remove(b,!0)})});d=d.concat(e)});return d}},ma=function(){var a=new O;this.insertTab=function(a,b){var d=f.createText(Array(b+1).join(f.NBSP_CHAR));a=a.deleteContents();a.insertNode(d,!0);a=u.create(d,b);a.select()};this.insertParagraph=function(e){var b=u.create(e),b=b.deleteContents(),b=b.wrapBodyInlineWithPara(),
d=f.ancestor(b.sc,f.isPara),c;if(d){if(f.isEmpty(d)&&f.isLi(d)){a.toggleList(d.parentNode.nodeName);return}f.isEmpty(d)&&f.isPara(d)&&f.isBlockquote(d.parentNode)?(f.insertAfter(d,d.parentNode),c=d):(c=f.splitTree(d,b.getStartPoint()),b=f.listDescendant(d,f.isEmptyAnchor),b=b.concat(f.listDescendant(c,f.isEmptyAnchor)),h.each(b,function(a,b){f.remove(b)}),(f.isHeading(c)||f.isPre(c))&&f.isEmpty(c)&&(c=f.replace(c,"p")))}else d=b.sc.childNodes[b.so],c=h(f.emptyPara)[0],d?b.sc.insertBefore(c,d):b.sc.appendChild(c);
u.create(c,0).normalize().select().scrollIntoView(e)}},na=function(){this.tab=function(a,e){var b=f.ancestor(a.commonAncestor(),f.isCell),d=f.ancestor(b,f.isTable),d=f.listDescendant(d,f.isCell);(b=l[e?"prev":"next"](d,b))&&u.create(b,0).select()};this.createTable=function(a,e,b){for(var d=[],c=0;c<a;c++)d.push("<td>"+f.blank+"</td>");a=d.join("");d=[];for(c=0;c<e;c++)d.push("<tr>"+a+"</tr>");e=d.join("");e=h("<table>"+e+"</table>");b&&b.tableClassName&&e.addClass(b.tableClassName);return e[0]}},
F;v.hasCodeMirror&&(v.isSupportAmd?require(["codemirror"],function(a){F=a}):F=window.CodeMirror);h.summernote=h.extend(h.summernote,{version:"0.8.2",ui:z,dom:f,plugins:{},options:{modules:{editor:function(a){var e=this,b=a.layoutInfo.note,d=a.layoutInfo.editor,c=a.layoutInfo.editable,k=a.options,g=k.langInfo,n=c[0],t=null,x=new la,C=new na,p=new ma,I=new O,H=new ka(c);this.initialize=function(){c.on("keydown",function(b){b.keyCode===w.code.ENTER&&a.triggerEvent("enter",b);a.triggerEvent("keydown",
b);b.isDefaultPrevented()||(k.shortcuts?e.handleKeyMap(b):e.preventDefaultEditableShortCuts(b))}).on("keyup",function(b){a.triggerEvent("keyup",b)}).on("focus",function(b){a.triggerEvent("focus",b)}).on("blur",function(b){a.triggerEvent("blur",b)}).on("mousedown",function(b){a.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.triggerEvent("mouseup",b)}).on("scroll",function(b){a.triggerEvent("scroll",b)}).on("paste",function(b){a.triggerEvent("paste",b)});c.html(f.html(b)||f.emptyPara);c.on(v.isMSIE?
"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",m.debounce(function(){a.triggerEvent("change",c.html())},250));d.on("focusin",function(b){a.triggerEvent("focusin",b)}).on("focusout",function(b){a.triggerEvent("focusout",b)});k.airMode||(k.width&&d.outerWidth(k.width),k.height&&c.outerHeight(k.height),k.maxHeight&&c.css("max-height",k.maxHeight),k.minHeight&&c.css("min-height",k.minHeight));H.recordUndo()};this.destroy=function(){c.off()};this.handleKeyMap=function(b){var c=k.keyMap[v.isMac?
"mac":"pc"],g=[];b.metaKey&&g.push("CMD");b.ctrlKey&&!b.altKey&&g.push("CTRL");b.shiftKey&&g.push("SHIFT");var d=w.nameFromCode[b.keyCode];d&&g.push(d);(c=c[g.join("+")])?(b.preventDefault(),a.invoke(c)):w.isEdit(b.keyCode)&&this.afterCommand()};this.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&l.contains([66,73,85],a.keyCode)&&a.preventDefault()};this.createRange=function(){this.focus();return u.create(n)};this.saveRange=function(a){t=this.createRange();a&&t.collapse().select()};
this.restoreRange=function(){t&&(t.select(),this.focus())};this.saveTarget=function(a){c.data("target",a)};this.clearTarget=function(){c.removeData("target")};this.restoreTarget=function(){return c.data("target")};this.currentStyle=function(){var a=u.create();a&&(a=a.normalize());return a?x.current(a):x.fromNode(c)};this.styleFromNode=function(a){return x.fromNode(a)};this.undo=function(){a.triggerEvent("before.command",c.html());H.undo();a.triggerEvent("change",c.html())};a.memo("help.undo",g.help.undo);
this.redo=function(){a.triggerEvent("before.command",c.html());H.redo();a.triggerEvent("change",c.html())};a.memo("help.redo",g.help.redo);for(var B=this.beforeCommand=function(){a.triggerEvent("before.command",c.html());e.focus()},E=this.afterCommand=function(b){H.recordUndo();b||a.triggerEvent("change",c.html())},r="bold italic underline strikethrough superscript subscript justifyLeft justifyCenter justifyRight justifyFull formatBlock removeFormat backColor foreColor fontName".split(" "),q=0,y=
r.length;q<y;q++)this[r[q]]=function(a){return function(b){B();document.execCommand(a,!1,b);E(!0)}}(r[q]),a.memo("help."+r[q],g.help[r[q]]);this.tab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()?C.tab(a):(B(),p.insertTab(a,k.tabSize),E())};a.memo("help.tab",g.help.tab);this.untab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()&&C.tab(a,!0)};a.memo("help.untab",g.help.untab);this.wrapCommand=function(a){return function(){B();a.apply(e,arguments);E()}};this.insertParagraph=
this.wrapCommand(function(){p.insertParagraph(n)});a.memo("help.insertParagraph",g.help.insertParagraph);this.insertOrderedList=this.wrapCommand(function(){I.insertOrderedList(n)});a.memo("help.insertOrderedList",g.help.insertOrderedList);this.insertUnorderedList=this.wrapCommand(function(){I.insertUnorderedList(n)});a.memo("help.insertUnorderedList",g.help.insertUnorderedList);this.indent=this.wrapCommand(function(){I.indent(n)});a.memo("help.indent",g.help.indent);this.outdent=this.wrapCommand(function(){I.outdent(n)});
a.memo("help.outdent",g.help.outdent);this.insertImage=function(b,g){return N.createImage(b,g).then(function(a){B();"function"===typeof g?g(a):("string"===typeof g&&a.attr("data-filename",g),a.css("width",Math.min(c.width(),a.width())));a.show();u.create(n).insertNode(a[0]);u.createFromNodeAfter(a[0]).select();E()}).fail(function(b){a.triggerEvent("image.upload.error",b)})};this.insertImages=function(b){h.each(b,function(b,c){var d=c.name;k.maximumImageFileSize&&k.maximumImageFileSize<c.size?a.triggerEvent("image.upload.error",
g.image.maximumFileSizeError):N.readFileAsDataURL(c).then(function(a){return e.insertImage(a,d)}).fail(function(){a.triggerEvent("image.upload.error")})})};this.insertImagesOrCallback=function(b){k.callbacks.onImageUpload?a.triggerEvent("image.upload",b):this.insertImages(b)};this.insertNode=this.wrapCommand(function(a){this.createRange().insertNode(a);u.createFromNodeAfter(a).select()});this.insertText=this.wrapCommand(function(a){a=this.createRange().insertNode(f.createText(a));u.create(a,f.nodeLength(a)).select()});
this.getSelectedText=function(){var a=this.createRange();a.isOnAnchor()&&(a=u.createFromNode(f.ancestor(a.sc,f.isAnchor)));return a.toString()};this.pasteHTML=this.wrapCommand(function(a){a=this.createRange().pasteHTML(a);u.createFromNodeAfter(l.last(a)).select()});this.formatBlock=this.wrapCommand(function(a){a=v.isMSIE?"<"+a+">":a;document.execCommand("FormatBlock",!1,a)});this.formatPara=function(){this.formatBlock("P")};a.memo("help.formatPara",g.help.formatPara);for(q=1;6>=q;q++)this["formatH"+
q]=function(a){return function(){this.formatBlock("H"+a)}}(q),a.memo("help.formatH"+q,g.help["formatH"+q]);this.fontSize=function(a){var b=this.createRange();if(b&&b.isCollapsed()){var b=x.styleNodes(b),g=l.head(b);h(b).css({"font-size":a+"px"});g&&!f.nodeLength(g)&&(g.innerHTML=f.ZERO_WIDTH_NBSP_CHAR,u.createFromNodeAfter(g.firstChild).select(),c.data("bogus",g))}else B(),h(x.styleNodes(b)).css({"font-size":a+"px"}),E()};this.insertHorizontalRule=this.wrapCommand(function(){var a=this.createRange().insertNode(f.create("HR"));
a.nextSibling&&u.create(a.nextSibling,0).normalize().select()});a.memo("help.insertHorizontalRule",g.help.insertHorizontalRule);this.removeBogus=function(){var a=c.data("bogus");if(a){var b=l.find(l.from(a.childNodes),f.isText),g=b.nodeValue.indexOf(f.ZERO_WIDTH_NBSP_CHAR);-1!==g&&b.deleteData(g,1);f.isEmpty(a)&&f.remove(a);c.removeData("bogus")}};this.lineHeight=this.wrapCommand(function(a){x.stylePara(this.createRange(),{lineHeight:a})});this.unlink=function(){var a=this.createRange();a.isOnAnchor()&&
(a=f.ancestor(a.sc,f.isAnchor),a=u.createFromNode(a),a.select(),B(),document.execCommand("unlink"),E())};this.createLink=this.wrapCommand(function(a){var b=a.url,c=a.text,g=a.isNewWindow,d=a.range||this.createRange(),e=d.toString()!==c;"string"===typeof b&&(b=b.trim());k.onCreateLink&&(b=k.onCreateLink(b));a=[];e?(d=d.deleteContents(),c=d.insertNode(h("<A>"+c+"</A>")[0]),a.push(c)):a=x.styleNodes(d,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});h.each(a,function(a,c){b=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(b)?
b:"http://"+b;h(c).attr("href",b);g?h(c).attr("target","_blank"):h(c).removeAttr("target")});c=u.createFromNodeBefore(l.head(a)).getStartPoint();a=u.createFromNodeAfter(l.last(a)).getEndPoint();u.create(c.node,c.offset,a.node,a.offset).select()});this.getLinkInfo=function(){var a=this.createRange().expand(f.isAnchor),b=h(l.head(a.nodes(f.isAnchor)));return{range:a,text:a.toString(),isNewWindow:b.length?"_blank"===b.attr("target"):!1,url:b.length?b.attr("href"):""}};this.color=this.wrapCommand(function(a){var b=
a.foreColor;a=a.backColor;b&&document.execCommand("foreColor",!1,b);a&&document.execCommand("backColor",!1,a)});this.insertTable=this.wrapCommand(function(a){a=a.split("x");this.createRange().deleteContents().insertNode(C.createTable(a[0],a[1],k))});this.floatMe=this.wrapCommand(function(a){h(this.restoreTarget()).css("float",a)});this.resize=this.wrapCommand(function(a){h(this.restoreTarget()).css({width:100*a+"%",height:""})});this.resizeTo=function(a,b,c){if(c){c=a.y/a.x;var g=b.data("ratio");
a={width:g>c?a.x:a.y/g,height:g>c?a.x*g:a.y}}else a={width:a.x,height:a.y};b.css(a)};this.removeMedia=this.wrapCommand(function(){var b=h(this.restoreTarget()).detach();a.triggerEvent("media.delete",b,c)});this.hasFocus=function(){return c.is(":focus")};this.focus=function(){this.hasFocus()||c.focus()};this.isEmpty=function(){return f.isEmpty(c[0])||f.emptyPara===c.html()};this.empty=function(){a.invoke("code",f.emptyPara)}},clipboard:function(a){var e=this,b=a.layoutInfo.editable;this.events={"summernote.keydown":function(b,
c){e.needKeydownHook()&&(c.ctrlKey||c.metaKey)&&c.keyCode===w.code.V&&(a.invoke("editor.saveRange"),e.$paste.focus(),setTimeout(function(){e.pasteByHook()},0))}};this.needKeydownHook=function(){return v.isMSIE&&10<v.browserVersion||v.isFF};this.initialize=function(){if(this.needKeydownHook())this.$paste=h('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1E5,opacity:0}),b.before(this.$paste),this.$paste.on("paste",function(b){a.triggerEvent("paste",b)});else b.on("paste",
this.pasteByEvent)};this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)};this.pasteByHook=function(){var b=this.$paste[0].firstChild;if(f.isImg(b)){for(var b=atob(b.src.split(",")[1]),c=new Uint8Array(b.length),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);b=new Blob([c],{type:"image/png"});b.name="clipboard.png";a.invoke("editor.restoreRange");a.invoke("editor.focus");a.invoke("editor.insertImagesOrCallback",[b])}else b=h("<div />").html(this.$paste.html()).html(),a.invoke("editor.restoreRange"),
a.invoke("editor.focus"),b&&a.invoke("editor.pasteHTML",b);this.$paste.empty()};this.pasteByEvent=function(b){(b=b.originalEvent.clipboardData)&&b.items&&b.items.length&&(b=l.head(b.items),"file"===b.kind&&-1!==b.type.indexOf("image/")&&a.invoke("editor.insertImagesOrCallback",[b.getAsFile()]),a.invoke("editor.afterCommand"))}},dropzone:function(a){var e=h(document),b=a.layoutInfo.editor,d=a.layoutInfo.editable,c=a.options,f=c.langInfo,g={},n=h('<div class="note-dropzone">  <div class="note-dropzone-message"/></div>').prependTo(b),
t=function(){Object.keys(g).forEach(function(a){e.off(a.substr(2).toLowerCase(),g[a])});g={}};this.initialize=function(){c.disableDragAndDrop?(g.onDrop=function(a){a.preventDefault()},e.on("drop",g.onDrop)):this.attachDragAndDropEvent()};this.attachDragAndDropEvent=function(){var c=h(),k=n.find(".note-dropzone-message");g.onDragenter=function(g){var d=a.invoke("codeview.isActivated"),e=0<b.width()&&0<b.height();d||c.length||!e||(b.addClass("dragover"),n.width(b.width()),n.height(b.height()),k.text(f.image.dragImageHere));
c=c.add(g.target)};g.onDragleave=function(a){c=c.not(a.target);c.length||b.removeClass("dragover")};g.onDrop=function(){c=h();b.removeClass("dragover")};e.on("dragenter",g.onDragenter).on("dragleave",g.onDragleave).on("drop",g.onDrop);n.on("dragenter",function(){n.addClass("hover");k.text(f.image.dropImage)}).on("dragleave",function(){n.removeClass("hover");k.text(f.image.dragImageHere)});n.on("drop",function(b){var c=b.originalEvent.dataTransfer;c&&c.files&&c.files.length?(b.preventDefault(),d.focus(),
a.invoke("editor.insertImagesOrCallback",c.files)):h.each(c.types,function(b,g){var d=c.getData(g);-1<g.toLowerCase().indexOf("text")?a.invoke("editor.pasteHTML",d):h(d).each(function(){a.invoke("editor.insertNode",this)})})}).on("dragover",!1)};this.destroy=function(){t()}},codeview:function(a){var e=a.layoutInfo.editor,b=a.layoutInfo.editable,d=a.layoutInfo.codable,c=a.options;this.sync=function(){this.isActivated()&&v.hasCodeMirror&&d.data("cmEditor").save()};this.isActivated=function(){return e.hasClass("codeview")};
this.toggle=function(){this.isActivated()?this.deactivate():this.activate();a.triggerEvent("codeview.toggled")};this.activate=function(){d.val(f.html(b,c.prettifyHtml));d.height(b.height());a.invoke("toolbar.updateCodeview",!0);e.addClass("codeview");d.focus();if(v.hasCodeMirror){var h=F.fromTextArea(d[0],c.codemirror);if(c.codemirror.tern){var g=new F.TernServer(c.codemirror.tern);h.ternServer=g;h.on("cursorActivity",function(a){g.updateArgHints(a)})}h.setSize(null,b.outerHeight());d.data("cmEditor",
h)}};this.deactivate=function(){if(v.hasCodeMirror){var h=d.data("cmEditor");d.val(h.getValue());h.toTextArea()}var h=f.value(d,c.prettifyHtml)||f.emptyPara,g=b.html()!==h;b.html(h);b.height(c.height?d.height():"auto");e.removeClass("codeview");g&&a.triggerEvent("change",b.html(),b);b.focus();a.invoke("toolbar.updateCodeview",!1)};this.destroy=function(){this.isActivated()&&this.deactivate()}},statusbar:function(a){var e=h(document),b=a.layoutInfo.statusbar,d=a.layoutInfo.editable,c=a.options;this.initialize=
function(){if(!c.airMode&&!c.disableResizeEditor)b.on("mousedown",function(a){a.preventDefault();a.stopPropagation();var b=d.offset().top-e.scrollTop();e.on("mousemove",function(a){a=a.clientY-(b+24);a=0<c.minheight?Math.max(a,c.minheight):a;a=0<c.maxHeight?Math.min(a,c.maxHeight):a;d.height(a)}).one("mouseup",function(){e.off("mousemove")})})};this.destroy=function(){b.off();b.remove()}},fullscreen:function(a){var e=a.layoutInfo.editor,b=a.layoutInfo.toolbar,d=a.layoutInfo.editable,c=a.layoutInfo.codable,
f=h(window),g=h("html, body");this.toggle=function(){var h=function(a){d.css("height",a.h);c.css("height",a.h);c.data("cmeditor")&&c.data("cmeditor").setsize(null,a.h)};e.toggleClass("fullscreen");this.isFullscreen()?(d.data("orgHeight",d.css("height")),f.on("resize",function(){h({h:f.height()-b.outerHeight()})}).trigger("resize"),g.css("overflow","hidden")):(f.off("resize"),h({h:d.data("orgHeight")}),g.css("overflow","visible"));a.invoke("toolbar.updateFullscreen",this.isFullscreen())};this.isFullscreen=
function(){return e.hasClass("fullscreen")}},handle:function(a){var e=this,b=h(document),d=a.layoutInfo.editingArea,c=a.options;this.events={"summernote.mousedown":function(a,b){e.update(b.target)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){e.update()}};this.initialize=function(){this.$handle=h(['<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="',
c.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',c.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div></div>"].join("")).prependTo(d);this.$handle.on("mousedown",function(c){if(f.isControlSizing(c.target)){c.preventDefault();c.stopPropagation();var g=e.$handle.find(".note-control-selection").data("target"),d=g.offset(),h=b.scrollTop();b.on("mousemove",function(b){a.invoke("editor.resizeTo",{x:b.clientX-d.left,y:b.clientY-(d.top-
h)},g,!b.shiftKey);e.update(g[0])}).one("mouseup",function(c){c.preventDefault();b.off("mousemove");a.invoke("editor.afterCommand")});g.data("ratio")||g.data("ratio",g.height()/g.width())}})};this.destroy=function(){this.$handle.remove()};this.update=function(b){var c=f.isImg(b),d=this.$handle.find(".note-control-selection");a.invoke("imagePopover.update",b);if(c){var e=h(b),k=e.position(),l=e.outerWidth(!0),m=e.outerHeight(!0);d.css({display:"block",left:k.left,top:k.top,width:l,height:m}).data("target",
e);e=l+"x"+m;d.find(".note-control-selection-info").text(e);a.invoke("editor.saveTarget",b)}else this.hide();return c};this.hide=function(){a.invoke("editor.clearTarget");this.$handle.children().hide()}},hintPopover:function(a){var e=this,b=h.summernote.ui,d=a.options.hint||[],c=a.options.hintDirection||"bottom",k=h.isArray(d)?d:[d];this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||e.handleKeyup(b)},"summernote.keydown":function(a,b){e.handleKeydown(b)},"summernote.dialog.shown":function(){e.hide()}};
this.shouldInitialize=function(){return 0<k.length};this.initialize=function(){this.lastWordRange=null;this.$popover=b.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body");this.$popover.hide();this.$content=this.$popover.find(".popover-content");this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active");h(this).addClass("active");e.replace()})};this.destroy=function(){this.$popover.remove()};this.selectItem=function(a){this.$content.find(".active").removeClass("active");
a.addClass("active");this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2};this.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();b.length?this.selectItem(b):(a=a.parent().next(),a.length||(a=this.$content.find(".note-hint-group").first()),this.selectItem(a.find(".note-hint-item").first()))};this.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();b.length?this.selectItem(b):(a=a.parent().prev(),a.length||(a=this.$content.find(".note-hint-group").last()),
this.selectItem(a.find(".note-hint-item").last()))};this.replace=function(){var b=this.$content.find(".note-hint-item.active");b.length&&(b=this.nodeFromItem(b),this.lastWordRange.insertNode(b),u.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),a.invoke("editor.focus"))};this.nodeFromItem=function(a){var b=k[a.data("index")];a=a.data("item");b=b.content?b.content(a):a;"string"===typeof b&&(b=f.createText(b));return b};this.createItemTemplates=function(a,b){var c=k[a];return b.map(function(b,
g){var d=h('<div class="note-hint-item"/>');d.append(c.template?c.template(b):b+"");d.data({index:a,item:b});0===a&&0===g&&d.addClass("active");return d})};this.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===w.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===w.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===w.code.DOWN&&(a.preventDefault(),this.moveDown()))};this.searchKeyword=function(a,b,c){(a=k[a])&&a.match.test(b)&&a.search?(b=a.match.exec(b),a.search(b[1],
c)):c()};this.createGroup=function(a,b){var c=h('<div class="note-hint-group note-hint-group-'+a+'"/>');this.searchKeyword(a,b,function(b){b=b||[];b.length&&(c.html(e.createItemTemplates(a,b)),e.show())});return c};this.handleKeyup=function(b){if(l.contains([w.code.ENTER,w.code.UP,w.code.DOWN],b.keyCode))b.keyCode===w.code.ENTER&&this.$popover.is(":visible");else{b=a.invoke("editor.createRange").getWordRange();var d=b.toString();if(k.length&&d){this.$content.empty();var g=m.rect2bnd(l.last(b.getClientRects()));
g&&(this.$popover.hide(),this.lastWordRange=b,k.forEach(function(a,b){a.match.test(d)&&e.createGroup(b,d).appendTo(e.$content)}),"top"===c?this.$popover.css({left:g.left,top:g.top-this.$popover.outerHeight()-5}):this.$popover.css({left:g.left,top:g.top+g.height+5}))}else this.hide()}};this.show=function(){this.$popover.show()};this.hide=function(){this.$popover.hide()}},autoLink:function(a){var e=this,b=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(a,
b){b.isDefaultPrevented()||e.handleKeyup(b)},"summernote.keydown":function(a,b){e.handleKeydown(b)}};this.initialize=function(){this.lastWordRange=null};this.destroy=function(){this.lastWordRange=null};this.replace=function(){if(this.lastWordRange){var d=this.lastWordRange.toString(),c=d.match(b);c&&(c[1]||c[2])&&(c=c[1]?d:"http://"+d,d=h("<a />").html(d).attr("href",c)[0],this.lastWordRange.insertNode(d),this.lastWordRange=null,a.invoke("editor.focus"))}};this.handleKeydown=function(b){l.contains([w.code.ENTER,
w.code.SPACE],b.keyCode)&&(this.lastWordRange=a.invoke("editor.createRange").getWordRange())};this.handleKeyup=function(a){l.contains([w.code.ENTER,w.code.SPACE],a.keyCode)&&this.replace()}},autoSync:function(a){var e=a.layoutInfo.note;this.events={"summernote.change":function(){e.val(a.invoke("code"))}};this.shouldInitialize=function(){return f.isTextarea(e[0])}},placeholder:function(a){var e=this,b=a.layoutInfo.editingArea,d=a.options;this.events={"summernote.init summernote.change":function(){e.update()},
"summernote.codeview.toggled":function(){e.update()}};this.shouldInitialize=function(){return!!d.placeholder};this.initialize=function(){this.$placeholder=h('<div class="note-placeholder">');this.$placeholder.on("click",function(){a.invoke("focus")}).text(d.placeholder).prependTo(b)};this.destroy=function(){this.$placeholder.remove()};this.update=function(){var b=!a.invoke("codeview.isActivated")&&a.invoke("editor.isEmpty");this.$placeholder.toggle(b)}},buttons:function(a){var e=this,b=h.summernote.ui,
d=a.layoutInfo.toolbar,c=a.options,f=c.langInfo,g=m.invertObject(c.keyMap[v.isMac?"mac":"pc"]),n=this.representShortcut=function(a){a=g[a];if(!c.shortcuts||!a)return"";v.isMac&&(a=a.replace("CMD","\u2318").replace("SHIFT","\u21e7"));a=a.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return" ("+a+")"};this.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.fontInstalledMap={}};this.destroy=
function(){delete this.fontInstalledMap};this.isFontInstalled=function(a){e.fontInstalledMap.hasOwnProperty(a)||(e.fontInstalledMap[a]=v.isFontInstalled(a)||l.contains(c.fontNamesIgnoreCheck,a));return e.fontInstalledMap[a]};this.addToolbarButtons=function(){a.memo("button.style",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.magic)+" "+b.icon(c.icons.caret,"span"),tooltip:f.style.style,data:{toggle:"dropdown"}}),b.dropdown({className:"dropdown-style",
items:a.options.styleTags,template:function(a){"string"===typeof a&&(a={tag:a,title:f.style.hasOwnProperty(a)?f.style[a]:a});var b=a.tag;return"<"+b+(a.style?' style="'+a.style+'" ':"")+(a.className?' class="'+a.className+'"':"")+">"+a.title+"</"+b+">"},click:a.createInvokeHandler("editor.formatBlock")})]).render()});a.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.icon(c.icons.bold),tooltip:f.font.bold+n("bold"),click:a.createInvokeHandler("editor.bold")}).render()});
a.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.icon(c.icons.italic),tooltip:f.font.italic+n("italic"),click:a.createInvokeHandler("editor.italic")}).render()});a.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.icon(c.icons.underline),tooltip:f.font.underline+n("underline"),click:a.createInvokeHandler("editor.underline")}).render()});a.memo("button.clear",function(){return b.button({contents:b.icon(c.icons.eraser),
tooltip:f.font.clear+n("removeFormat"),click:a.createInvokeHandler("editor.removeFormat")}).render()});a.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.icon(c.icons.strikethrough),tooltip:f.font.strikethrough+n("strikethrough"),click:a.createInvokeHandler("editor.strikethrough")}).render()});a.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.icon(c.icons.superscript),tooltip:f.font.superscript,
click:a.createInvokeHandler("editor.superscript")}).render()});a.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.icon(c.icons.subscript),tooltip:f.font.subscript,click:a.createInvokeHandler("editor.subscript")}).render()});a.memo("button.fontname",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+b.icon(c.icons.caret,"span"),tooltip:f.font.name,data:{toggle:"dropdown"}}),b.dropdownCheck({className:"dropdown-fontname",
checkClassName:c.icons.menuCheck,items:c.fontNames.filter(e.isFontInstalled),template:function(a){return'<span style="font-family:'+a+'">'+a+"</span>"},click:a.createInvokeHandler("editor.fontName")})]).render()});a.memo("button.fontsize",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+b.icon(c.icons.caret,"span"),tooltip:f.font.size,data:{toggle:"dropdown"}}),b.dropdownCheck({className:"dropdown-fontsize",checkClassName:c.icons.menuCheck,
items:c.fontSizes,click:a.createInvokeHandler("editor.fontSize")})]).render()});a.memo("button.color",function(){return b.buttonGroup({className:"note-color",children:[b.button({className:"note-current-color-button",contents:b.icon(c.icons.font+" note-recent-color"),tooltip:f.color.recent,click:function(b){b=h(b.currentTarget);a.invoke("editor.color",{backColor:b.attr("data-backColor"),foreColor:b.attr("data-foreColor")})},callback:function(a){a.find(".note-recent-color").css("background-color","#FFFF00");
a.attr("data-backColor","#FFFF00")}}),b.button({className:"dropdown-toggle",contents:b.icon(c.icons.caret,"span"),tooltip:f.color.more,data:{toggle:"dropdown"}}),b.dropdown({items:['<li><div class="btn-group">','  <div class="note-palette-title">'+f.color.background+"</div>",'  <div>    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',f.color.transparent,'    </button>  </div>  <div class="note-holder" data-event="backColor"/></div><div class="btn-group">',
'  <div class="note-palette-title">'+f.color.foreground+"</div>",'  <div>    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',f.color.resetToDefault,'    </button>  </div>  <div class="note-holder" data-event="foreColor"/></div></li>'].join(""),callback:function(a){a.find(".note-holder").each(function(){var a=h(this);a.append(b.palette({colors:c.colors,eventName:a.data("event")}).render())})},click:function(b){var c=h(b.target);b=c.data("event");
var d=c.data("value");if(b&&d){var g="backColor"===b?"background-color":"color",e=c.closest(".note-color").find(".note-recent-color"),c=c.closest(".note-color").find(".note-current-color-button");e.css(g,d);c.attr("data-"+b,d);a.invoke("editor."+b,d)}}})]}).render()});a.memo("button.ul",function(){return b.button({contents:b.icon(c.icons.unorderedlist),tooltip:f.lists.unordered+n("insertUnorderedList"),click:a.createInvokeHandler("editor.insertUnorderedList")}).render()});a.memo("button.ol",function(){return b.button({contents:b.icon(c.icons.orderedlist),
tooltip:f.lists.ordered+n("insertOrderedList"),click:a.createInvokeHandler("editor.insertOrderedList")}).render()});var d=b.button({contents:b.icon(c.icons.alignLeft),tooltip:f.paragraph.left+n("justifyLeft"),click:a.createInvokeHandler("editor.justifyLeft")}),g=b.button({contents:b.icon(c.icons.alignCenter),tooltip:f.paragraph.center+n("justifyCenter"),click:a.createInvokeHandler("editor.justifyCenter")}),k=b.button({contents:b.icon(c.icons.alignRight),tooltip:f.paragraph.right+n("justifyRight"),
click:a.createInvokeHandler("editor.justifyRight")}),l=b.button({contents:b.icon(c.icons.alignJustify),tooltip:f.paragraph.justify+n("justifyFull"),click:a.createInvokeHandler("editor.justifyFull")}),p=b.button({contents:b.icon(c.icons.outdent),tooltip:f.paragraph.outdent+n("outdent"),click:a.createInvokeHandler("editor.outdent")}),q=b.button({contents:b.icon(c.icons.indent),tooltip:f.paragraph.indent+n("indent"),click:a.createInvokeHandler("editor.indent")});a.memo("button.justifyLeft",m.invoke(d,
"render"));a.memo("button.justifyCenter",m.invoke(g,"render"));a.memo("button.justifyRight",m.invoke(k,"render"));a.memo("button.justifyFull",m.invoke(l,"render"));a.memo("button.outdent",m.invoke(p,"render"));a.memo("button.indent",m.invoke(q,"render"));a.memo("button.paragraph",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.alignLeft)+" "+b.icon(c.icons.caret,"span"),tooltip:f.paragraph.paragraph,data:{toggle:"dropdown"}}),b.dropdown([b.buttonGroup({className:"note-align",
children:[d,g,k,l]}),b.buttonGroup({className:"note-list",children:[p,q]})])]).render()});a.memo("button.height",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.textHeight)+" "+b.icon(c.icons.caret,"span"),tooltip:f.font.height,data:{toggle:"dropdown"}}),b.dropdownCheck({items:c.lineHeights,checkClassName:c.icons.menuCheck,className:"dropdown-line-height",click:a.createInvokeHandler("editor.lineHeight")})]).render()});a.memo("button.table",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",
contents:b.icon(c.icons.table)+" "+b.icon(c.icons.caret,"span"),tooltip:f.table.table,data:{toggle:"dropdown"}}),b.dropdown({className:"note-table",items:'<div class="note-dimension-picker">  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>  <div class="note-dimension-picker-highlighted"/>  <div class="note-dimension-picker-unhighlighted"/></div><div class="note-dimension-display">1 x 1</div>'})],{callback:function(b){b.find(".note-dimension-picker-mousecatcher").css({width:c.insertTableMaxSize.col+
"em",height:c.insertTableMaxSize.row+"em"}).mousedown(a.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler)}}).render()});a.memo("button.link",function(){return b.button({contents:b.icon(c.icons.link),tooltip:f.link.link+n("linkDialog.show"),click:a.createInvokeHandler("linkDialog.show")}).render()});a.memo("button.picture",function(){return b.button({contents:b.icon(c.icons.picture),tooltip:f.image.image,click:a.createInvokeHandler("imageDialog.show")}).render()});a.memo("button.video",
function(){return b.button({contents:b.icon(c.icons.video),tooltip:f.video.video,click:a.createInvokeHandler("videoDialog.show")}).render()});a.memo("button.hr",function(){return b.button({contents:b.icon(c.icons.minus),tooltip:f.hr.insert+n("insertHorizontalRule"),click:a.createInvokeHandler("editor.insertHorizontalRule")}).render()});a.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.icon(c.icons.arrowsAlt),tooltip:f.options.fullscreen,click:a.createInvokeHandler("fullscreen.toggle")}).render()});
a.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.icon(c.icons.code),tooltip:f.options.codeview,click:a.createInvokeHandler("codeview.toggle")}).render()});a.memo("button.redo",function(){return b.button({contents:b.icon(c.icons.redo),tooltip:f.history.redo+n("redo"),click:a.createInvokeHandler("editor.redo")}).render()});a.memo("button.undo",function(){return b.button({contents:b.icon(c.icons.undo),tooltip:f.history.undo+n("undo"),click:a.createInvokeHandler("editor.undo")}).render()});
a.memo("button.help",function(){return b.button({contents:b.icon(c.icons.question),tooltip:f.options.help,click:a.createInvokeHandler("helpDialog.show")}).render()})};this.addImagePopoverButtons=function(){a.memo("button.imageSize100",function(){return b.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:f.image.resizeFull,click:a.createInvokeHandler("editor.resize","1")}).render()});a.memo("button.imageSize50",function(){return b.button({contents:'<span class="note-fontsize-10">50%</span>',
tooltip:f.image.resizeHalf,click:a.createInvokeHandler("editor.resize","0.5")}).render()});a.memo("button.imageSize25",function(){return b.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:f.image.resizeQuarter,click:a.createInvokeHandler("editor.resize","0.25")}).render()});a.memo("button.floatLeft",function(){return b.button({contents:b.icon(c.icons.alignLeft),tooltip:f.image.floatLeft,click:a.createInvokeHandler("editor.floatMe","left")}).render()});a.memo("button.floatRight",
function(){return b.button({contents:b.icon(c.icons.alignRight),tooltip:f.image.floatRight,click:a.createInvokeHandler("editor.floatMe","right")}).render()});a.memo("button.floatNone",function(){return b.button({contents:b.icon(c.icons.alignJustify),tooltip:f.image.floatNone,click:a.createInvokeHandler("editor.floatMe","none")}).render()});a.memo("button.removeMedia",function(){return b.button({contents:b.icon(c.icons.trash),tooltip:f.image.remove,click:a.createInvokeHandler("editor.removeMedia")}).render()})};
this.addLinkPopoverButtons=function(){a.memo("button.linkDialogShow",function(){return b.button({contents:b.icon(c.icons.link),tooltip:f.link.edit,click:a.createInvokeHandler("linkDialog.show")}).render()});a.memo("button.unlink",function(){return b.button({contents:b.icon(c.icons.unlink),tooltip:f.link.unlink,click:a.createInvokeHandler("editor.unlink")}).render()})};this.build=function(c,d){for(var g=0,e=d.length;g<e;g++){for(var f=d[g],h=f[1],f=b.buttonGroup({className:"note-"+f[0]}).render(),
k=0,l=h.length;k<l;k++){var t=a.memo("button."+h[k]);t&&f.append("function"===typeof t?t(a):t)}f.appendTo(c)}};this.updateCurrentStyle=function(){var b=a.invoke("editor.currentStyle");this.updateBtnStates({".note-btn-bold":function(){return"bold"===b["font-bold"]},".note-btn-italic":function(){return"italic"===b["font-italic"]},".note-btn-underline":function(){return"underline"===b["font-underline"]},".note-btn-subscript":function(){return"subscript"===b["font-subscript"]},".note-btn-superscript":function(){return"superscript"===
b["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===b["font-strikethrough"]}});if(b["font-family"]){var c=b["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=l.find(c,e.isFontInstalled);d.find(".dropdown-fontname li a").each(function(){this.className=h(this).data("value")+""===g+""?"checked":""});d.find(".note-current-fontname").text(g)}if(b["font-size"]){var f=b["font-size"];d.find(".dropdown-fontsize li a").each(function(){this.className=
h(this).data("value")+""===f+""?"checked":""});d.find(".note-current-fontsize").text(f)}if(b["line-height"]){var k=b["line-height"];d.find(".dropdown-line-height li a").each(function(){this.className=h(this).data("value")+""===k+""?"checked":""})}};this.updateBtnStates=function(a){h.each(a,function(a,c){b.toggleBtnActive(d.find(a),c())})};this.tableMoveHandler=function(a){var b,d=h(a.target.parentNode),g=d.next(),e=d.find(".note-dimension-picker-mousecatcher"),f=d.find(".note-dimension-picker-highlighted"),
d=d.find(".note-dimension-picker-unhighlighted");if(void 0===a.offsetX){var k=h(a.target).offset();b=a.pageX-k.left;a=a.pageY-k.top}else b=a.offsetX,a=a.offsetY;b=Math.ceil(b/18)||1;a=Math.ceil(a/18)||1;f.css({width:b+"em",height:a+"em"});e.data("value",b+"x"+a);3<b&&b<c.insertTableMaxSize.col&&d.css({width:b+1+"em"});3<a&&a<c.insertTableMaxSize.row&&d.css({height:a+1+"em"});g.html(b+" x "+a)}},toolbar:function(a){var e=h.summernote.ui,b=a.layoutInfo.note,d=a.layoutInfo.toolbar,c=a.options;this.shouldInitialize=
function(){return!c.airMode};this.initialize=function(){c.toolbar=c.toolbar||[];c.toolbar.length?a.invoke("buttons.build",d,c.toolbar):d.hide();c.toolbarContainer&&d.appendTo(c.toolbarContainer);b.on("summernote.keyup summernote.mouseup summernote.change",function(){a.invoke("buttons.updateCurrentStyle")});a.invoke("buttons.updateCurrentStyle")};this.destroy=function(){d.children().remove()};this.updateFullscreen=function(a){e.toggleBtnActive(d.find(".btn-fullscreen"),a)};this.updateCodeview=function(a){e.toggleBtnActive(d.find(".btn-codeview"),
a);a?this.deactivate():this.activate()};this.activate=function(a){var b=d.find("button");a||(b=b.not(".btn-codeview"));e.toggleBtn(b,!0)};this.deactivate=function(a){var b=d.find("button");a||(b=b.not(".btn-codeview"));e.toggleBtn(b,!1)}},linkDialog:function(a){var e=this,b=h.summernote.ui,d=a.layoutInfo.editor,c=a.options,f=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?h(document.body):d;this.$dialog=b.dialog({className:"link-dialog",title:f.link.insert,fade:c.dialogsFade,body:'<div class="form-group"><label>'+
f.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+f.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(c.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+f.link.openInNewWindow+"</label></div>"),footer:'<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+f.link.insert+"</button>"}).render().appendTo(a)};this.destroy=
function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===w.code.ENTER&&b.trigger("click")})};this.toggleLinkBtn=function(a,c,d){b.toggleBtn(a,c.val()&&d.val())};this.showLinkDialog=function(c){return h.Deferred(function(d){var g=e.$dialog.find(".note-link-text"),f=e.$dialog.find(".note-link-url"),h=e.$dialog.find(".note-link-btn"),k=e.$dialog.find("input[type=checkbox]");b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");
c.url||(c.url=c.text);g.val(c.text);var b=function(){e.toggleLinkBtn(h,g,f);c.text=g.val()};g.on("input",b).on("paste",function(){setTimeout(b,0)});var l=function(){e.toggleLinkBtn(h,g,f);c.text||g.val(f.val())};f.on("input",l).on("paste",function(){setTimeout(l,0)}).val(c.url).trigger("focus");e.toggleLinkBtn(h,g,f);e.bindEnterKey(f,h);e.bindEnterKey(g,h);k.prop("checked",c.isNewWindow);h.one("click",function(a){a.preventDefault();d.resolve({range:c.range,url:f.val(),text:g.val(),isNewWindow:k.is(":checked")});
e.$dialog.modal("hide")})});b.onDialogHidden(e.$dialog,function(){g.off("input paste keypress");f.off("input paste keypress");h.off("click");"pending"===d.state()&&d.reject()});b.showDialog(e.$dialog)}).promise()};this.show=function(){var b=a.invoke("editor.getLinkInfo");a.invoke("editor.saveRange");this.showLinkDialog(b).then(function(b){a.invoke("editor.restoreRange");a.invoke("editor.createLink",b)}).fail(function(){a.invoke("editor.restoreRange")})};a.memo("help.linkDialog.show",c.langInfo.help["linkDialog.show"])},
linkPopover:function(a){var e=this,b=h.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.dialog.shown":function(){e.hide()}};this.shouldInitialize=function(){return!l.isEmpty(d.popover.link)};this.initialize=function(){this.$popover=b.popover({className:"note-link-popover",callback:function(a){a.find(".popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");
var c=this.$popover.find(".popover-content");a.invoke("buttons.build",c,d.popover.link)};this.destroy=function(){this.$popover.remove()};this.update=function(){if(a.invoke("editor.hasFocus")){var b=a.invoke("editor.createRange");if(b.isCollapsed()&&b.isOnAnchor()){var b=f.ancestor(b.sc,f.isAnchor),d=h(b).attr("href");this.$popover.find("a").attr("href",d).html(d);b=f.posFromPlaceholder(b);this.$popover.css({display:"block",left:b.left,top:b.top})}else this.hide()}else this.hide()};this.hide=function(){this.$popover.hide()}},
imageDialog:function(a){var e=this,b=h.summernote.ui,d=a.layoutInfo.editor,c=a.options,f=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?h(document.body):d,e="";c.maximumImageFileSize&&(e=Math.floor(Math.log(c.maximumImageFileSize)/Math.log(1024)),e=1*(c.maximumImageFileSize/Math.pow(1024,e)).toFixed(2)+" "+" KMGTP"[e]+"B",e="<small>"+f.image.maximumFileSize+" : "+e+"</small>");this.$dialog=b.dialog({title:f.image.insert,fade:c.dialogsFade,body:'<div class="form-group note-group-select-from-files"><label>'+
f.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+e+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+f.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',footer:'<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+f.image.insert+"</button>"}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);
this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===w.code.ENTER&&b.trigger("click")})};this.show=function(){a.invoke("editor.saveRange");this.showImageDialog().then(function(c){b.hideDialog(e.$dialog);a.invoke("editor.restoreRange");"string"===typeof c?a.invoke("editor.insertImage",c):a.invoke("editor.insertImagesOrCallback",c)}).fail(function(){a.invoke("editor.restoreRange")})};this.showImageDialog=function(){return h.Deferred(function(c){var d=e.$dialog.find(".note-image-input"),
g=e.$dialog.find(".note-image-url"),f=e.$dialog.find(".note-image-btn");b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");d.replaceWith(d.clone().on("change",function(){c.resolve(this.files||this.value)}).val(""));f.click(function(a){a.preventDefault();c.resolve(g.val())});g.on("keyup paste",function(){var a=g.val();b.toggleBtn(f,a)}).val("").trigger("focus");e.bindEnterKey(g,f)});b.onDialogHidden(e.$dialog,function(){d.off("change");g.off("keyup paste keypress");f.off("click");
"pending"===c.state()&&c.reject()});b.showDialog(e.$dialog)})}},imagePopover:function(a){var e=h.summernote.ui,b=a.options;this.shouldInitialize=function(){return!l.isEmpty(b.popover.image)};this.initialize=function(){this.$popover=e.popover({className:"note-image-popover"}).render().appendTo("body");var d=this.$popover.find(".popover-content");a.invoke("buttons.build",d,b.popover.image)};this.destroy=function(){this.$popover.remove()};this.update=function(a){f.isImg(a)?(a=f.posFromPlaceholder(a),
this.$popover.css({display:"block",left:a.left,top:a.top})):this.hide()};this.hide=function(){this.$popover.hide()}},videoDialog:function(a){var e=this,b=h.summernote.ui,d=a.layoutInfo.editor,c=a.options,f=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?h(document.body):d;this.$dialog=b.dialog({title:f.video.insert,fade:c.dialogsFade,body:'<div class="form-group row-fluid"><label>'+f.video.url+' <small class="text-muted">'+f.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',
footer:'<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+f.video.insert+"</button>"}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===w.code.ENTER&&b.trigger("click")})};this.createVideoNode=function(a){var b=a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),c=a.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),
d=a.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),e=a.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),g=a.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),f=a.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),k=a.match(/^.+.(mp4|m4v)$/),l=a.match(/^.+.(ogg|ogv)$/),m=a.match(/^.+.(webm)$/);if(b&&11===b[1].length)a=b[1],a=h("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+a).attr("width","640").attr("height","360");else if(c&&c[0].length)a=
h("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+c[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(d&&d[0].length)a=h("<iframe>").attr("frameborder",0).attr("src",d[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(e&&e[3].length)a=h("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+
e[3]).attr("width","640").attr("height","360");else if(g&&g[2].length)a=h("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)a=h("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else if(k||l||m)a=h("<video controls>").attr("src",a).attr("width","640").attr("height","360");
else return!1;a.addClass("note-video-clip");return a[0]};this.show=function(){var c=a.invoke("editor.getSelectedText");a.invoke("editor.saveRange");this.showVideoDialog(c).then(function(c){b.hideDialog(e.$dialog);a.invoke("editor.restoreRange");(c=e.createVideoNode(c))&&a.invoke("editor.insertNode",c)}).fail(function(){a.invoke("editor.restoreRange")})};this.showVideoDialog=function(c){return h.Deferred(function(d){var g=e.$dialog.find(".note-video-url"),f=e.$dialog.find(".note-video-btn");b.onDialogShown(e.$dialog,
function(){a.triggerEvent("dialog.shown");g.val(c).on("input",function(){b.toggleBtn(f,g.val())}).trigger("focus");f.click(function(a){a.preventDefault();d.resolve(g.val())});e.bindEnterKey(g,f)});b.onDialogHidden(e.$dialog,function(){g.off("input");f.off("click");"pending"===d.state()&&d.reject()});b.showDialog(e.$dialog)})}},helpDialog:function(a){var e=this,b=h.summernote.ui,d=a.layoutInfo.editor,c=a.options,f=c.langInfo;this.createShortCutList=function(){var b=c.keyMap[v.isMac?"mac":"pc"];return Object.keys(b).map(function(c){var d=
b[c],e=h('<div><div class="help-list-item"/></div>');e.append(h("<label><kbd>"+c+"</kdb></label>").css({width:180,"margin-right":10})).append(h("<span/>").html(a.memo("help."+d)||d));return e.html()}).join("")};this.initialize=function(){var a=c.dialogsInBody?h(document.body):d;this.$dialog=b.dialog({title:f.options.help,fade:c.dialogsFade,body:this.createShortCutList(),footer:'<p class="text-center"><a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a> \u00b7 <a href="https://github.com/summernote/summernote" target="_blank">Project</a> \u00b7 <a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a></p>',
callback:function(a){a.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.showHelpDialog=function(){return h.Deferred(function(c){b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");c.resolve()});b.showDialog(e.$dialog)}).promise()};this.show=function(){a.invoke("editor.saveRange");this.showHelpDialog().then(function(){a.invoke("editor.restoreRange")})}},airPopover:function(a){var e=
this,b=h.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},"summernote.focusout":function(a,b){v.isFF||b.relatedTarget&&f.ancestor(b.relatedTarget,m.eq(e.$popover[0]))||e.hide()}};this.shouldInitialize=function(){return d.airMode&&!l.isEmpty(d.popover.air)};this.initialize=function(){this.$popover=b.popover({className:"note-air-popover"}).render().appendTo("body");var c=
this.$popover.find(".popover-content");a.invoke("buttons.build",c,d.popover.air)};this.destroy=function(){this.$popover.remove()};this.update=function(){var b=a.invoke("editor.currentStyle");if(b.range&&!b.range.isCollapsed()){if(b=l.last(b.range.getClientRects()))b=m.rect2bnd(b),this.$popover.css({display:"block",left:Math.max(b.left+b.width/2,0)-20,top:b.top+b.height})}else this.hide()};this.hide=function(){this.$popover.hide()}}},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold",
"underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],
["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),fontNames:"Arial;Arial Black;Comic Sans MS;Courier New;Helvetica Neue;Helvetica;Impact;Lucida Grande;Tahoma;Times New Roman;Verdana".split(";"),fontSizes:"8 9 10 11 12 14 18 24 36".split(" "),colors:["#000000 #424242 #636363 #9C9C94 #CEC6CE #EFEFEF #F7F7F7 #FFFFFF".split(" "),"#FF0000 #FF9C00 #FFFF00 #00FF00 #00FFFF #0000FF #9C00FF #FF00FF".split(" "),
"#F7C6CE #FFE7CE #FFEFC6 #D6EFD6 #CEDEE7 #CEE7F7 #D6D6E7 #E7D6DE".split(" "),"#E79C9C #FFC69C #FFE79C #B5D6A5 #A5C6CE #9CC6EF #B5A5D6 #D6A5BD".split(" "),"#E76363 #F7AD6B #FFD663 #94BD7B #73A5AD #6BADDE #8C7BC6 #C67BA5".split(" "),"#CE0000 #E79439 #EFC631 #6BA54A #4A7B8C #3984C6 #634AA5 #A54A7B".split(" "),"#9C0000 #B56308 #BD9400 #397B21 #104A5A #085294 #311873 #731842".split(" "),"#630000 #7B3900 #846300 #295218 #083139 #003163 #21104A #4A1031".split(" ")],lineHeights:"1.0 1.2 1.4 1.5 1.6 1.8 2.0 3.0".split(" "),
tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough",
"CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},
mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1",
"CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",
close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",
superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});
