(function(n){n.plot.plugins.push({init:function(n){n.hooks.processDatapoints.push(function(b,f,s){if(null!=f.fillBetween){var k;a:{b=b.getData();var e;for(e=0;e<b.length;++e)if(b[e].id===f.fillBetween){k=b[e];break a}k="number"===typeof f.fillBetween?0>f.fillBetween||f.fillBetween>=b.length?null:b[f.fillBetween]:null}if(k){b=s.pointsize;e=s.points;var m=k.datapoints.pointsize;k=k.datapoints.points;for(var d=[],l,a,p,q,r=f.lines.show,n=2<b&&s.format[2].y,u=r&&f.lines.steps,t=!0,c=0,g=0,h;!(c>=e.length);){h=
d.length;if(null==e[c]){for(a=0;a<b;++a)d.push(e[c+a]);c+=b}else if(g>=k.length){if(!r)for(a=0;a<b;++a)d.push(e[c+a]);c+=b}else if(null==k[g]){for(a=0;a<b;++a)d.push(null);t=!0;g+=m}else{l=e[c];a=e[c+1];f=k[g];p=k[g+1];q=0;if(l===f){for(a=0;a<b;++a)d.push(e[c+a]);q=p;c+=b;g+=m}else if(l>f){if(r&&0<c&&null!=e[c-b]){l=a+(e[c-b+1]-a)*(f-l)/(e[c-b]-l);d.push(f);d.push(l);for(a=2;a<b;++a)d.push(e[c+a]);q=p}g+=m}else{if(t&&r){c+=b;continue}for(a=0;a<b;++a)d.push(e[c+a]);r&&0<g&&null!=k[g-m]&&(q=p+(k[g-
m+1]-p)*(l-f)/(k[g-m]-f));c+=b}t=!1;h!==d.length&&n&&(d[h+2]=q)}if(u&&h!==d.length&&0<h&&null!==d[h]&&d[h]!==d[h-b]&&d[h+1]!==d[h-b+1]){for(a=0;a<b;++a)d[h+b+a]=d[h+a];d[h+1]=d[h-b+1]}}s.points=d}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})})(jQuery);
