(function(f){function b(a){var k,g=this,c=a.data||{};if(c.elem)g=a.dragTarget=c.elem,a.dragProxy=d.proxy||g,a.cursorOffsetX=c.pageX-c.left,a.cursorOffsetY=c.pageY-c.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(d.dragging||0<c.which&&a.which!=c.which||f(a.target).is(c.not))return;switch(a.type){case "mousedown":return f.extend(c,f(g).offset(),{elem:g,target:a.target,pageX:a.pageX,pageY:a.pageY}),e.add(document,"mousemove mouseup",b,c),n(g,!1),d.dragging=null,!1;case !d.dragging&&
"mousemove":if(Math.pow(a.pageX-c.pageX,2)+Math.pow(a.pageY-c.pageY,2)<c.distance)break;a.target=c.target;k=l(a,"dragstart",g);!1!==k&&(d.dragging=g,d.proxy=a.dragProxy=f(k||g)[0]);case "mousemove":if(d.dragging){if(k=l(a,"drag",g),m.drop&&(m.drop.allowed=!1!==k,m.drop.handler(a)),!1!==k)break;a.type="mouseup"}case "mouseup":e.remove(document,"mousemove mouseup",b),d.dragging&&(m.drop&&m.drop.handler(a),l(a,"dragend",g)),n(g,!0),d.dragging=d.proxy=c.elem=!1}return!0}function l(a,b,d){a.type=b;b=f.event.dispatch.call(d,
a);return!1===b?!1:b||a.result}function p(){return!1===d.dragging}function n(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}f.fn.drag=function(a,b,d){return b&&this.bind("dragstart",a),d&&this.bind("dragend",d),a?this.bind("drag",b?b:a):this.trigger("drag")};var e=f.event,m=e.special,d=m.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=f.extend({distance:d.distance,which:d.which,not:d.not},a||{});a.distance=
Math.pow(a.distance,2);e.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",p)},teardown:function(){e.remove(this,"mousedown",b);this===d.dragging&&(d.dragging=d.proxy=!1);n(this,!0);this.detachEvent&&this.detachEvent("ondragstart",p)}};m.dragstart=m.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(f){function b(b){var e=b||window.event,n=[].slice.call(arguments,1),d=0,a=0,k;b=f.event.fix(e);b.type="mousewheel";e.wheelDelta&&(d=e.wheelDelta/120);e.detail&&(d=-e.detail/3);k=d;void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS&&(k=0,a=-1*d);void 0!==e.wheelDeltaY&&(k=e.wheelDeltaY/120);void 0!==e.wheelDeltaX&&(a=-1*e.wheelDeltaX/120);n.unshift(b,d,a,k);return(f.event.dispatch||f.event.handle).apply(this,n)}var l=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks)for(var p=l.length;p;)f.event.fixHooks[l[--p]]=
f.event.mouseHooks;f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var f=l.length;f;)this.addEventListener(l[--f],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var f=l.length;f;)this.removeEventListener(l[--f],b,!1);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(f){f.plot.plugins.push({init:function(b){function l(c,a){var h=b.offset();h.left=c.pageX-h.left;h.top=c.pageY-h.top;a?b.zoomOut({center:h}):b.zoom({center:h})}function p(b,a){b.preventDefault();l(b,0>a);return!1}function n(c){if(1!=c.which)return!1;var h=b.getPlaceholder().css("cursor");h&&(d=h);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=c.pageX;k=c.pageY}function e(c){var h=b.getOptions().pan.frameRate;!g&&h&&(g=setTimeout(function(){b.pan({left:a-c.pageX,top:k-c.pageY});
a=c.pageX;k=c.pageY;g=null},1/h*1E3))}function m(c){g&&(clearTimeout(g),g=null);b.getPlaceholder().css("cursor",d);b.pan({left:a-c.pageX,top:k-c.pageY})}var d="default",a=0,k=0,g=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(a){a||(a={});var c=a.center,d=a.amount||b.getOptions().zoom.amount,e=b.width(),g=b.height();c||(c={left:e/2,top:g/2});var k=c.left/e,l=c.top/g,m={x:{min:c.left-k*e/d,max:c.left+(1-k)*e/d},y:{min:c.top-
l*g/d,max:c.top+(1-l)*g/d}};f.each(b.getAxes(),function(a,b){var c=b.options,d=m[b.direction].min,h=m[b.direction].max,f=c.zoomRange,e=c.panRange;if(!1!==f){d=b.c2p(d);h=b.c2p(h);if(d>h)var g=d,d=h,h=g;e&&(null!=e[0]&&d<e[0]&&(d=e[0]),null!=e[1]&&h>e[1]&&(h=e[1]));e=h-d;f&&(null!=f[0]&&e<f[0]||null!=f[1]&&e>f[1])||(c.min=d,c.max=h)}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotzoom",[b,a])};b.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=
0);f.each(b.getAxes(),function(a,b){var d=b.options,e,f,h=c[b.direction];e=b.c2p(b.p2c(b.min)+h);f=b.c2p(b.p2c(b.max)+h);var g=d.panRange;!1!==g&&(g&&(null!=g[0]&&g[0]>e&&(h=g[0]-e,e+=h,f+=h),null!=g[1]&&g[1]<f&&(h=g[1]-f,e+=h,f+=h)),d.min=e,d.max=f)});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b,a])};b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.zoom.interactive&&(b[c.zoom.trigger](l),b.mousewheel(p));c.pan.interactive&&(b.bind("dragstart",{distance:10},
n),b.bind("drag",e),b.bind("dragend",m))});b.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,l);a.unbind("mousewheel",p);a.unbind("dragstart",n);a.unbind("drag",e);a.unbind("dragend",m);g&&clearTimeout(g)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
