(function(d){function b(a){var k,e=this,f=a.data||{};if(f.elem)e=a.dragTarget=f.elem,a.dragProxy=c.proxy||e,a.cursorOffsetX=f.pageX-f.left,a.cursorOffsetY=f.pageY-f.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(c.dragging||0<f.which&&a.which!=f.which||d(a.target).is(f.not))return;switch(a.type){case "mousedown":return d.extend(f,d(e).offset(),{elem:e,target:a.target,pageX:a.pageX,pageY:a.pageY}),g.add(document,"mousemove mouseup",b,f),n(e,!1),c.dragging=null,!1;case !c.dragging&&
"mousemove":if(Math.pow(a.pageX-f.pageX,2)+Math.pow(a.pageY-f.pageY,2)<f.distance)break;a.target=f.target;k=h(a,"dragstart",e);!1!==k&&(c.dragging=e,c.proxy=a.dragProxy=d(k||e)[0]);case "mousemove":if(c.dragging){if(k=h(a,"drag",e),l.drop&&(l.drop.allowed=!1!==k,l.drop.handler(a)),!1!==k)break;a.type="mouseup"}case "mouseup":g.remove(document,"mousemove mouseup",b),c.dragging&&(l.drop&&l.drop.handler(a),h(a,"dragend",e)),n(e,!0),c.dragging=c.proxy=f.elem=!1}return!0}function h(a,b,c){a.type=b;b=d.event.dispatch.call(c,
a);return!1===b?!1:b||a.result}function m(){return!1===c.dragging}function n(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}d.fn.drag=function(a,b,c){return b&&this.bind("dragstart",a),c&&this.bind("dragend",c),a?this.bind("drag",b?b:a):this.trigger("drag")};var g=d.event,l=g.special,c=l.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=d.extend({distance:c.distance,which:c.which,not:c.not},a||{});a.distance=
Math.pow(a.distance,2);g.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",m)},teardown:function(){g.remove(this,"mousedown",b);this===c.dragging&&(c.dragging=c.proxy=!1);n(this,!0);this.detachEvent&&this.detachEvent("ondragstart",m)}};l.dragstart=l.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(d){function b(b){var g=b||window.event,h=[].slice.call(arguments,1),c=0,a=0,k=0;b=d.event.fix(g);b.type="mousewheel";g.wheelDelta&&(c=g.wheelDelta/120);g.detail&&(c=-g.detail/3);k=c;void 0!==g.axis&&g.axis===g.HORIZONTAL_AXIS&&(k=0,a=-1*c);void 0!==g.wheelDeltaY&&(k=g.wheelDeltaY/120);void 0!==g.wheelDeltaX&&(a=-1*g.wheelDeltaX/120);h.unshift(b,c,a,k);return(d.event.dispatch||d.event.handle).apply(this,h)}var h=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks)for(var m=h.length;m;)d.event.fixHooks[h[--m]]=
d.event.mouseHooks;d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var d=h.length;d;)this.addEventListener(h[--d],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var d=h.length;d;)this.removeEventListener(h[--d],b,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(d){d.plot.plugins.push({init:function(b){function h(f,a){var c=b.offset();c.left=f.pageX-c.left;c.top=f.pageY-c.top;a?b.zoomOut({center:c}):b.zoom({center:c})}function m(b,a){b.preventDefault();h(b,0>a);return!1}function n(f){if(1!=f.which)return!1;var p=b.getPlaceholder().css("cursor");p&&(c=p);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=f.pageX;k=f.pageY}function g(f){var c=b.getOptions().pan.frameRate;!e&&c&&(e=setTimeout(function(){b.pan({left:a-f.pageX,top:k-f.pageY});
a=f.pageX;k=f.pageY;e=null},1/c*1E3))}function l(f){e&&(clearTimeout(e),e=null);b.getPlaceholder().css("cursor",c);b.pan({left:a-f.pageX,top:k-f.pageY})}var c="default",a=0,k=0,e=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(a){a||(a={});var c=a.center,g=a.amount||b.getOptions().zoom.amount,e=b.width(),h=b.height();c||(c={left:e/2,top:h/2});var k=c.left/e,l=c.top/h,q={x:{min:c.left-k*e/g,max:c.left+(1-k)*e/g},y:{min:c.top-
l*h/g,max:c.top+(1-l)*h/g}};d.each(b.getAxes(),function(a,b){var c=b.options,f=q[b.direction].min,d=q[b.direction].max,g=c.zoomRange,e=c.panRange;if(!1!==g){f=b.c2p(f);d=b.c2p(d);if(f>d)var h=f,f=d,d=h;e&&(null!=e[0]&&f<e[0]&&(f=e[0]),null!=e[1]&&d>e[1]&&(d=e[1]));e=d-f;g&&(null!=g[0]&&e<g[0]||null!=g[1]&&e>g[1])||(c.min=f,c.max=d)}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotzoom",[b,a])};b.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=
0);d.each(b.getAxes(),function(a,b){var f=b.options,d,e,g=c[b.direction];d=b.c2p(b.p2c(b.min)+g);e=b.c2p(b.p2c(b.max)+g);var h=f.panRange;!1!==h&&(h&&(null!=h[0]&&h[0]>d&&(g=h[0]-d,d+=g,e+=g),null!=h[1]&&h[1]<e&&(g=h[1]-e,d+=g,e+=g)),f.min=d,f.max=e)});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b,a])};b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.zoom.interactive&&(b[c.zoom.trigger](h),b.mousewheel(m));c.pan.interactive&&(b.bind("dragstart",{distance:10},
n),b.bind("drag",g),b.bind("dragend",l))});b.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,h);a.unbind("mousewheel",m);a.unbind("dragstart",n);a.unbind("drag",g);a.unbind("dragend",l);e&&clearTimeout(e)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
