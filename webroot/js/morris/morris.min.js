var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(l,k,q){if(q.get||q.set)throw new TypeError("ES3 does not support getters and setters.");l!=Array.prototype&&l!=Object.prototype&&(l[k]=q.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(l){return $jscomp.SYMBOL_PREFIX+(l||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.iterator;l||(l=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[l]&&$jscomp.defineProperty(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(l){var k=0;return $jscomp.iteratorPrototype(function(){return k<l.length?{done:!1,value:l[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(l){$jscomp.initSymbolIterator();l={next:l};l[$jscomp.global.Symbol.iterator]=function(){return this};return l};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(l,k){$jscomp.initSymbolIterator();l instanceof String&&(l+="");var q=0,u={next:function(){if(q<l.length){var z=q++;return{value:k(z,l[z]),done:!1}}u.next=function(){return{done:!0,value:void 0}};return u.next()}};u[Symbol.iterator]=function(){return u};return u};
$jscomp.polyfill=function(l,k,q,u){if(k){q=$jscomp.global;l=l.split(".");for(u=0;u<l.length-1;u++){var z=l[u];z in q||(q[z]={});q=q[z]}l=l[l.length-1];u=q[l];k=k(u);k!=u&&null!=k&&$jscomp.defineProperty(q,l,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.values",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(k,l){return l})}},"es6","es3");
(function(){var l,k,q,u,z=[].slice,w=function(d,b){return function(){return d.apply(b,arguments)}},C={}.hasOwnProperty,A=function(d,b){function a(){this.constructor=d}for(var c in b)C.call(b,c)&&(d[c]=b[c]);return a.prototype=b.prototype,d.prototype=new a,d.__super__=b.prototype,d},D=[].indexOf||function(d){for(var b=0,a=this.length;a>b;b++)if(b in this&&this[b]===d)return b;return-1};k=window.Morris={};l=jQuery;k.EventEmitter=function(){function d(){}return d.prototype.on=function(b,a){return null==
this.handlers&&(this.handlers={}),null==this.handlers[b]&&(this.handlers[b]=[]),this.handlers[b].push(a),this},d.prototype.fire=function(){var b,a,c,e,n,f;if(a=arguments[0],b=2<=arguments.length?z.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[a]){n=this.handlers[a];f=[];c=0;for(e=n.length;e>c;c++)a=n[c],f.push(a.apply(null,b));return f}},d}();k.commas=function(d){var b,a,c,e;return null!=d?(c=0>d?"-":"",b=Math.abs(d),a=Math.floor(b).toFixed(0),c+=a.replace(/(?=(?:\d{3})+$)(?!^)/g,
","),e=b.toString(),e.length>a.length&&(c+=e.slice(a.length)),c):"-"};k.pad2=function(d){return(10>d?"0":"")+d};k.Grid=function(d){function b(a){this.resizeHandler=w(this.resizeHandler,this);var c=this;if(this.el="string"==typeof a.element?l(document.getElementById(a.element)):l(a.element),null==this.el||0===this.el.length)throw Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative");this.options=l.extend({},this.gridDefaults,this.defaults||
{},a);"string"==typeof this.options.units&&(this.options.postUnits=a.units);this.raphael=new Raphael(this.el[0]);this.elementHeight=this.elementWidth=null;this.dirty=!1;this.selectFrom=null;this.init&&this.init();this.setData(this.options.data);this.el.bind("mousemove",function(a){var e,b,m,g,h;return b=c.el.offset(),h=a.pageX-b.left,c.selectFrom?(e=c.data[c.hitTest(Math.min(h,c.selectFrom))]._x,m=c.data[c.hitTest(Math.max(h,c.selectFrom))]._x,g=m-e,c.selectionRect.attr({x:e,width:g})):c.fire("hovermove",
h,a.pageY-b.top)});this.el.bind("mouseleave",function(){return c.selectFrom&&(c.selectionRect.hide(),c.selectFrom=null),c.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(a){var e,b;return b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],e=c.el.offset(),c.fire("hovermove",b.pageX-e.left,b.pageY-e.top)});this.el.bind("click",function(a){var e;return e=c.el.offset(),c.fire("gridclick",a.pageX-e.left,a.pageY-e.top)});this.options.rangeSelect&&(this.selectionRect=
this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(a){var e;return e=c.el.offset(),c.startRange(a.pageX-e.left)}),this.el.bind("mouseup",function(a){var e;return e=c.el.offset(),c.endRange(a.pageX-e.left),c.fire("hovermove",a.pageX-e.left,a.pageY-e.top)}));this.options.resize&&l(window).bind("resize",function(){return null!=c.timeoutId&&window.clearTimeout(c.timeoutId),c.timeoutId=window.setTimeout(c.resizeHandler,
100)});this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");this.postInit&&this.postInit()}return A(b,d),b.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666",
"#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},b.prototype.setData=function(a,c){var e,n,b,m,g,h,r,d,p,l,B,v,y,x,q;return null==c&&(c=!0),this.options.data=a,null==a||0===a.length?(this.data=[],this.raphael.clear(),null!=this.hover&&this.hover.hide(),void 0):(v=this.cumulative?0:null,y=this.cumulative?0:null,0<this.options.goals.length&&(g=Math.min.apply(Math,this.options.goals),m=Math.max.apply(Math,
this.options.goals),y=null!=y?Math.min(y,g):g,v=null!=v?Math.max(v,m):m),this.data=function(){var c,e,f;f=[];b=c=0;for(e=a.length;e>c;b=++c){r=a[b];h={src:r};h.label=r[this.options.xkey];this.options.parseTime?(h.x=k.parseDate(h.label),this.options.dateFormat?h.label=this.options.dateFormat(h.x):"number"==typeof h.label&&(h.label=(new Date(h.label)).toString())):(h.x=b,this.options.xLabelFormat&&(h.label=this.options.xLabelFormat(h)));p=0;var g=h,m,d,t,l;d=this.options.ykeys;m=[];n=l=0;for(t=d.length;t>
l;n=++l)B=d[n],x=r[B],"string"==typeof x&&(x=parseFloat(x)),null!=x&&"number"!=typeof x&&(x=null),null!=x&&(this.cumulative?p+=x:null!=v?(v=Math.max(x,v),y=Math.min(x,y)):v=y=x),this.cumulative&&null!=p&&(v=Math.max(p,v),y=Math.min(p,y)),m.push(x);g.y=m;f.push(h)}return f}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(a,c){return(a.x>c.x)-(c.x>a.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],0<this.options.events.length&&(this.events=
this.options.parseTime?function(){var a,c,n,b;n=this.options.events;b=[];a=0;for(c=n.length;c>a;a++)e=n[a],b.push(k.parseDate(e));return b}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(--this.xmin,this.xmax+=1),this.ymin=this.yboundary("min",y),this.ymax=this.yboundary("max",v),this.ymin===this.ymax&&(y&&--this.ymin,this.ymax+=1),(!0===(q=this.options.axes)||"both"===
q||"y"===q||!0===this.options.grid)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(d=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var a,c,e;e=[];l=a=this.ymin;for(c=this.ymax;0<d?c>=a:a>=c;l=a+=d)e.push(l);return e}.call(this))),this.dirty=!0,c?this.redraw():
void 0)},b.prototype.yboundary=function(a,c){var e,n;return e=this.options["y"+a],"string"==typeof e?"auto"===e.slice(0,4)?5<e.length?(n=parseInt(e.slice(5),10),null==c?n:Math[a](c,n)):null!=c?c:0:parseInt(e,10):e},b.prototype.autoGridLines=function(a,c,e){var n,b,m,g,h,d,t,p,k;return h=c-a,k=Math.floor(Math.log(h)/Math.log(10)),t=Math.pow(10,k),b=Math.floor(a/t)*t,n=Math.ceil(c/t)*t,d=(n-b)/(e-1),1===t&&1<d&&Math.ceil(d)!==d&&(d=Math.ceil(d),n=b+d*(e-1)),0>b&&0<n&&(b=Math.floor(a/d)*d,n=Math.ceil(c/
d)*d),1>d?(g=Math.floor(Math.log(d)/Math.log(10)),m=function(){var a,c;c=[];for(p=a=b;0<d?n>=a:a>=n;p=a+=d)c.push(parseFloat(p.toFixed(1-g)));return c}()):m=function(){var a,c;c=[];for(p=a=b;0<d?n>=a:a>=n;p=a+=d)c.push(p);return c}(),m},b.prototype._calc=function(){var a,c,e,b,f,d,g,h;return f=this.el.width(),e=this.el.height(),(this.elementWidth!==f||this.elementHeight!==e||this.dirty)&&(this.elementWidth=f,this.elementHeight=e,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-
this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,(!0===(g=this.options.axes)||"both"===g||"y"===g)&&(d=function(){var a,e,b,n;b=this.grid;n=[];a=0;for(e=b.length;e>a;a++)c=b[a],n.push(this.measureText(this.yAxisFormat(c)).width);return n}.call(this),this.left+=Math.max.apply(Math,d)),(!0===(h=this.options.axes)||"both"===h||"x"===h)&&(a=function(){var a,c,e;e=[];b=a=0;for(c=this.data.length;0<=c?c>a:a>c;b=0<=c?++a:--a)e.push(this.measureText(this.data[b].text,
-this.options.xLabelAngle).height);return e}.call(this),this.bottom-=Math.max.apply(Math,a)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},b.prototype.transY=function(a){return this.bottom-(a-this.ymin)*this.dy},b.prototype.transX=function(a){return 1===this.data.length?(this.left+this.right)/2:this.left+(a-this.xmin)*this.dx},b.prototype.redraw=
function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},b.prototype.measureText=function(a,c){var e,b;return null==c&&(c=0),b=this.raphael.text(100,100,a).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(c),e=b.getBBox(),b.remove(),e},b.prototype.yAxisFormat=function(a){return this.yLabelFormat(a)},b.prototype.yLabelFormat=function(a){return"function"==
typeof this.options.yLabelFormat?this.options.yLabelFormat(a):""+this.options.preUnits+k.commas(a)+this.options.postUnits},b.prototype.drawGrid=function(){var a,c,e,b,f,d,g;if(!1!==this.options.grid||!0===(a=this.options.axes)||"both"===a||"y"===a){f=this.grid;g=[];e=0;for(b=f.length;b>e;e++)a=f[e],c=this.transY(a),!0!==(d=this.options.axes)&&"both"!==d&&"y"!==d||this.drawYAxisLabel(this.left-this.options.padding/2,c,this.yAxisFormat(a)),this.options.grid?g.push(this.drawGridLine("M"+this.left+","+
c+"H"+(this.left+this.width))):g.push(void 0);return g}},b.prototype.drawGoals=function(){var a,c,e,b,f,d;f=this.options.goals;d=[];a=e=0;for(b=f.length;b>e;a=++e)c=f[a],a=this.options.goalLineColors[a%this.options.goalLineColors.length],d.push(this.drawGoal(c,a));return d},b.prototype.drawEvents=function(){var a,c,e,b,f,d;f=this.events;d=[];a=e=0;for(b=f.length;b>e;a=++e)c=f[a],a=this.options.eventLineColors[a%this.options.eventLineColors.length],d.push(this.drawEvent(c,a));return d},b.prototype.drawGoal=
function(a,c){return this.raphael.path("M"+this.left+","+this.transY(a)+"H"+this.right).attr("stroke",c).attr("stroke-width",this.options.goalStrokeWidth)},b.prototype.drawEvent=function(a,c){return this.raphael.path("M"+this.transX(a)+","+this.bottom+"V"+this.top).attr("stroke",c).attr("stroke-width",this.options.eventStrokeWidth)},b.prototype.drawYAxisLabel=function(a,c,e){return this.raphael.text(a,c,e).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",
this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},b.prototype.drawGridLine=function(a){return this.raphael.path(a).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},b.prototype.startRange=function(a){return this.hover.hide(),this.selectFrom=a,this.selectionRect.attr({x:a,width:0}).show()},b.prototype.endRange=function(a){var c,e;return this.selectFrom?(e=Math.min(this.selectFrom,a),c=Math.max(this.selectFrom,
a),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(e)].x,end:this.data[this.hitTest(c)].x}),this.selectFrom=null):void 0},b.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},b}(k.EventEmitter);k.parseDate=function(d){var b,a,c,e,n,f,m,g,h,r,t;return"number"==typeof d?d:(a=d.match(/^(\d+) Q(\d)$/),e=d.match(/^(\d+)-(\d+)$/),n=d.match(/^(\d+)-(\d+)-(\d+)$/),m=d.match(/^(\d+) W(\d+)$/),g=d.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),
h=d.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),a?(new Date(parseInt(a[1],10),3*parseInt(a[2],10)-1,1)).getTime():e?(new Date(parseInt(e[1],10),parseInt(e[2],10)-1,1)).getTime():n?(new Date(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10))).getTime():m?(r=new Date(parseInt(m[1],10),0,1),4!==r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),r.getTime()+6048E5*parseInt(m[2],10)):g?g[6]?(f=0,"Z"!==g[6]&&(f=60*parseInt(g[8],10)+parseInt(g[9],10),"+"===g[7]&&
(f=0-f)),Date.UTC(parseInt(g[1],10),parseInt(g[2],10)-1,parseInt(g[3],10),parseInt(g[4],10),parseInt(g[5],10)+f)):(new Date(parseInt(g[1],10),parseInt(g[2],10)-1,parseInt(g[3],10),parseInt(g[4],10),parseInt(g[5],10))).getTime():h?(t=parseFloat(h[6]),b=Math.floor(t),c=Math.round(1E3*(t-b)),h[8]?(f=0,"Z"!==h[8]&&(f=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(f=0-f)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+f,b,c)):(new Date(parseInt(h[1],
10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),b,c)).getTime()):(new Date(parseInt(d,10),0,1)).getTime())};k.Hover=function(){function d(b){null==b&&(b={});this.options=l.extend({},k.Hover.defaults,b);this.el=l("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}return d.defaults={"class":"morris-hover morris-default-style"},d.prototype.update=function(b,a,c){return b?(this.html(b),this.show(),this.moveTo(a,c)):this.hide()},
d.prototype.html=function(b){return this.el.html(b)},d.prototype.moveTo=function(b,a){var c,e,n,f,d,g;return d=this.options.parent.innerWidth(),f=this.options.parent.innerHeight(),e=this.el.outerWidth(),c=this.el.outerHeight(),n=Math.min(Math.max(0,b-e/2),d-e),null!=a?(g=a-c-10,0>g&&(g=a+10,g+c>f&&(g=f/2-c/2))):g=f/2-c/2,this.el.css({left:n+"px",top:parseInt(g)+"px"})},d.prototype.show=function(){return this.el.show()},d.prototype.hide=function(){return this.el.hide()},d}();k.Line=function(d){function b(a){return this.hilight=
w(this.hilight,this),this.onHoverOut=w(this.onHoverOut,this),this.onHoverMove=w(this.onHoverMove,this),this.onGridClick=w(this.onGridClick,this),this instanceof k.Line?(b.__super__.constructor.call(this,a),void 0):new k.Line(a)}return A(b,d),b.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new k.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},b.prototype.defaults={lineWidth:3,
pointSize:4,lineColors:"#0b62a4 #7A92A3 #4da74d #afd8f8 #edc240 #cb4b4b #9440ed".split(" "),pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},b.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},b.prototype.calcPoints=function(){var a,c,e,b,f,d;f=this.data;d=[];e=0;for(b=f.length;b>e;e++)a=f[e],a._x=this.transX(a.x),a._y=function(){var e,b,n,f;n=a.y;f=[];e=0;for(b=n.length;b>e;e++)c=
n[e],null!=c?f.push(this.transY(c)):f.push(c);return f}.call(this),d.push(a._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var e,b,n,f;n=a._y;f=[];e=0;for(b=n.length;b>e;e++)c=n[e],null!=c&&f.push(c);return f}())));return d},b.prototype.hitTest=function(a){var c,e,b,f,d;if(0===this.data.length)return null;d=this.data.slice(1);c=b=0;for(f=d.length;f>b&&(e=d[c],!(a<(e._x+this.data[c]._x)/2));c=++b);return c},b.prototype.onGridClick=function(a,c){var e;return e=this.hitTest(a),this.fire("click",
e,this.data[e].src,a,c)},b.prototype.onHoverMove=function(a){var c;return c=this.hitTest(a),this.displayHoverForRow(c)},b.prototype.onHoverOut=function(){return!1!==this.options.hideHover?this.displayHoverForRow(null):void 0},b.prototype.displayHoverForRow=function(a){var c;return null!=a?((c=this.hover).update.apply(c,this.hoverContentForRow(a)),this.hilight(a)):(this.hover.hide(),this.hilight())},b.prototype.hoverContentForRow=function(a){var c,e,b,f,d,g,h;b=this.data[a];c="<div class='morris-hover-row-label'>"+
b.label+"</div>";h=b.y;e=d=0;for(g=h.length;g>d;e=++d)f=h[e],c+="<div class='morris-hover-point' style='color: "+this.colorFor(b,e,"label")+"'>\n  "+this.options.labels[e]+":\n  "+this.yLabelFormat(f)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(c=this.options.hoverCallback(a,this.options,c,b.src)),[c,b._x,b._ymax]},b.prototype.generatePaths=function(){var a,c,e,b,f,d,g;g=[];a=b=0;for(f=this.options.ykeys.length;0<=f?f>b:b>f;a=0<=f?++b:--b){e="boolean"==typeof this.options.smooth?
this.options.smooth:(d=this.options.ykeys[a],0<=D.call(this.options.smooth,d));var h,r,t,p;r=this.data;h=[];p=0;for(t=r.length;t>p;p++)c=r[p],void 0!==c._y[a]&&h.push({x:c._x,y:c._y[a]});a=h;1<a.length?g.push(k.Line.createPath(a,e,this.bottom)):g.push(null)}return this.paths=g},b.prototype.draw=function(){var a;return(!0===(a=this.options.axes)||"both"===a||"x"===a)&&this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover?this.displayHoverForRow(this.data.length-1):void 0},b.prototype.drawXAxis=
function(){var a,c,e,b,d,m,g,h,r,t,p=this;g=this.bottom+this.options.padding/2;b=d=null;a=function(a,c){var e,n,f,h,m;return e=p.drawXAxisLabel(p.transX(c),g,a),m=e.getBBox(),e.transform("r"+-p.options.xLabelAngle),n=e.getBBox(),e.transform("t0,"+n.height/2+"..."),0!==p.options.xLabelAngle&&(h=-.5*m.width*Math.cos(p.options.xLabelAngle*Math.PI/180),e.transform("t"+h+",0...")),n=e.getBBox(),(null==d||d>=n.x+n.width||null!=b&&b>=n.x)&&0<=n.x&&n.x+n.width<p.el.width()?(0!==p.options.xLabelAngle&&(f=
1.25*p.options.gridTextSize/Math.sin(p.options.xLabelAngle*Math.PI/180),b=n.x-f),d=n.x-p.options.xLabelMargin):e.remove()};e=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:k.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var a,c,e,b;e=this.data;b=[];a=0;for(c=e.length;c>a;a++)m=e[a],b.push([m.label,m.x]);return b}.call(this);e.reverse();t=[];h=0;for(r=e.length;r>h;h++)c=e[h],t.push(a(c[0],
c[1]));return t},b.prototype.drawSeries=function(){var a,c,e,b;this.seriesPoints=[];for(a=c=e=this.options.ykeys.length-1;0>=e?0>=c:0<=c;a=0>=e?++c:--c)this._drawLineFor(a);b=[];for(a=c=e=this.options.ykeys.length-1;0>=e?0>=c:0<=c;a=0>=e?++c:--c)b.push(this._drawPointFor(a));return b},b.prototype._drawPointFor=function(a){var c,e,b,d,m,g;this.seriesPoints[a]=[];m=this.data;g=[];b=0;for(d=m.length;d>b;b++)e=m[b],c=null,null!=e._y[a]&&(c=this.drawLinePoint(e._x,e._y[a],this.colorFor(e,a,"point"),a)),
g.push(this.seriesPoints[a].push(c));return g},b.prototype._drawLineFor=function(a){var c;return c=this.paths[a],null!==c?this.drawLinePath(c,this.colorFor(null,a,"line"),a):void 0},b.createPath=function(a,c,e){var b,d,m,g,h,r,t,p,l,q,v,u,x,w;t="";c&&(m=k.Line.gradients(a));p={y:null};g=x=0;for(w=a.length;w>x;g=++x)b=a[g],null!=b.y&&(null!=p.y?c?(d=m[g],r=m[g-1],h=(b.x-p.x)/4,l=p.x+h,v=Math.min(e,p.y+h*r),q=b.x-h,u=Math.min(e,b.y-h*d),t+="C"+l+","+v+","+q+","+u+","+b.x+","+b.y):t+="L"+b.x+","+b.y:
c&&null==m[g]||(t+="M"+b.x+","+b.y)),p=b;return t},b.gradients=function(a){var c,e,b,d,m,g,h,r;e=function(a,c){return(a.y-c.y)/(a.x-c.x)};r=[];b=g=0;for(h=a.length;h>g;b=++g)c=a[b],null!=c.y?(d=a[b+1]||{y:null},m=a[b-1]||{y:null},null!=m.y&&null!=d.y?r.push(e(m,d)):null!=m.y?r.push(e(m,c)):null!=d.y?r.push(e(c,d)):r.push(null)):r.push(null);return r},b.prototype.hilight=function(a){var c,e,b;if(null!==this.prevHilight&&this.prevHilight!==a)for(c=e=0,b=this.seriesPoints.length-1;0<=b?b>=e:e>=b;c=0<=
b?++e:--e)this.seriesPoints[c][this.prevHilight]&&this.seriesPoints[c][this.prevHilight].animate(this.pointShrinkSeries(c));if(null!==a&&this.prevHilight!==a)for(c=e=0,b=this.seriesPoints.length-1;0<=b?b>=e:e>=b;c=0<=b?++e:--e)this.seriesPoints[c][a]&&this.seriesPoints[c][a].animate(this.pointGrowSeries(c));return this.prevHilight=a},b.prototype.colorFor=function(a,c,b){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,a,c,b):"point"===b?this.options.pointFillColors[c%
this.options.pointFillColors.length]||this.options.lineColors[c%this.options.lineColors.length]:this.options.lineColors[c%this.options.lineColors.length]},b.prototype.drawXAxisLabel=function(a,c,b){return this.raphael.text(a,c,b).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},b.prototype.drawLinePath=function(a,c,b){return this.raphael.path(a).attr("stroke",c).attr("stroke-width",
this.lineWidthForSeries(b))},b.prototype.drawLinePoint=function(a,c,b,d){return this.raphael.circle(a,c,this.pointSizeForSeries(d)).attr("fill",b).attr("stroke-width",this.pointStrokeWidthForSeries(d)).attr("stroke",this.pointStrokeColorForSeries(d))},b.prototype.pointStrokeWidthForSeries=function(a){return this.options.pointStrokeWidths[a%this.options.pointStrokeWidths.length]},b.prototype.pointStrokeColorForSeries=function(a){return this.options.pointStrokeColors[a%this.options.pointStrokeColors.length]},
b.prototype.lineWidthForSeries=function(a){return this.options.lineWidth instanceof Array?this.options.lineWidth[a%this.options.lineWidth.length]:this.options.lineWidth},b.prototype.pointSizeForSeries=function(a){return this.options.pointSize instanceof Array?this.options.pointSize[a%this.options.pointSize.length]:this.options.pointSize},b.prototype.pointGrowSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)+3},25,"linear")},b.prototype.pointShrinkSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)},
25,"linear")},b}(k.Grid);k.labelSeries=function(d,b,a,c,e){var n,f,m,g,h,r;if(n=200*(b-d)/a,a=new Date(d),g=k.LABEL_SPECS[c],void 0===g)for(r=k.AUTO_LABEL_ORDER,c=0,h=r.length;h>c;c++)if(f=r[c],m=k.LABEL_SPECS[f],n>=m.span){g=m;break}void 0===g&&(g=k.LABEL_SPECS.second);e&&(g=l.extend({},g,{fmt:e}));e=g.start(a);for(f=[];(m=e.getTime())<=b;)m>=d&&f.push([g.fmt(e),m]),g.incr(e);return f};q=function(d){return{span:6E4*d,start:function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours())},
fmt:function(b){return""+k.pad2(b.getHours())+":"+k.pad2(b.getMinutes())},incr:function(b){return b.setUTCMinutes(b.getUTCMinutes()+d)}}};u=function(d){return{span:1E3*d,start:function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes())},fmt:function(b){return""+k.pad2(b.getHours())+":"+k.pad2(b.getMinutes())+":"+k.pad2(b.getSeconds())},incr:function(b){return b.setUTCSeconds(b.getUTCSeconds()+d)}}};k.LABEL_SPECS={decade:{span:1728E8,start:function(d){return new Date(d.getFullYear()-
d.getFullYear()%10,0,1)},fmt:function(d){return""+d.getFullYear()},incr:function(d){return d.setFullYear(d.getFullYear()+10)}},year:{span:1728E7,start:function(d){return new Date(d.getFullYear(),0,1)},fmt:function(d){return""+d.getFullYear()},incr:function(d){return d.setFullYear(d.getFullYear()+1)}},month:{span:24192E5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),1)},fmt:function(d){return""+d.getFullYear()+"-"+k.pad2(d.getMonth()+1)},incr:function(d){return d.setMonth(d.getMonth()+
1)}},week:{span:6048E5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),d.getDate())},fmt:function(d){return""+d.getFullYear()+"-"+k.pad2(d.getMonth()+1)+"-"+k.pad2(d.getDate())},incr:function(d){return d.setDate(d.getDate()+7)}},day:{span:864E5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),d.getDate())},fmt:function(d){return""+d.getFullYear()+"-"+k.pad2(d.getMonth()+1)+"-"+k.pad2(d.getDate())},incr:function(d){return d.setDate(d.getDate()+1)}},hour:q(60),"30min":q(30),
"15min":q(15),"10min":q(10),"5min":q(5),minute:q(1),"30sec":u(30),"15sec":u(15),"10sec":u(10),"5sec":u(5),second:u(1)};k.AUTO_LABEL_ORDER="decade year month week day hour 30min 15min 10min 5min minute 30sec 15sec 10sec 5sec second".split(" ");k.Area=function(d){function b(c){var e;return this instanceof k.Area?(e=l.extend({},a,c),this.cumulative=!e.behaveLikeLine,"auto"===e.fillOpacity&&(e.fillOpacity=e.behaveLikeLine?.8:1),b.__super__.constructor.call(this,e),void 0):new k.Area(c)}var a;return A(b,
d),a={fillOpacity:"auto",behaveLikeLine:!1},b.prototype.calcPoints=function(){var a,b,d,f,m,g,h;g=this.data;h=[];f=0;for(m=g.length;m>f;f++){a=g[f];a._x=this.transX(a.x);b=0;var r=a,t,k,l,q;k=a.y;t=[];q=0;for(l=k.length;l>q;q++)d=k[q],this.options.behaveLikeLine?t.push(this.transY(d)):(b+=d||0,t.push(this.transY(b)));r._y=t;h.push(a._ymax=Math.max.apply(Math,a._y))}return h},b.prototype.drawSeries=function(){var a,b,d,f,m,g,h,r;this.seriesPoints=[];b=this.options.behaveLikeLine?function(){g=[];for(var a=
0,c=this.options.ykeys.length-1;0<=c?c>=a:a>=c;0<=c?a++:a--)g.push(a);return g}.apply(this):function(){h=[];for(var a=m=this.options.ykeys.length-1;0>=m?0>=a:0<=a;0>=m?a++:a--)h.push(a);return h}.apply(this);r=[];d=0;for(f=b.length;f>d;d++)a=b[d],this._drawFillFor(a),this._drawLineFor(a),r.push(this._drawPointFor(a));return r},b.prototype._drawFillFor=function(a){var c;return c=this.paths[a],null!==c?(c+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(c,
this.fillForSeries(a))):void 0},b.prototype.fillForSeries=function(a){var c;return c=Raphael.rgb2hsl(this.colorFor(this.data[a],a,"line")),Raphael.hsl(c.h,this.options.behaveLikeLine?.9*c.s:.75*c.s,Math.min(.98,this.options.behaveLikeLine?1.2*c.l:1.25*c.l))},b.prototype.drawFilledPath=function(a,b){return this.raphael.path(a).attr("fill",b).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},b}(k.Line);k.Bar=function(d){function b(a){return this.onHoverOut=w(this.onHoverOut,this),
this.onHoverMove=w(this.onHoverMove,this),this.onGridClick=w(this.onGridClick,this),this instanceof k.Bar?(b.__super__.constructor.call(this,l.extend({},a,{parseTime:!1})),void 0):new k.Bar(a)}return A(b,d),b.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new k.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},b.prototype.defaults={barSizeRatio:.75,
barGap:3,barColors:"#0b62a4 #7a92a3 #4da74d #afd8f8 #edc240 #cb4b4b #9440ed".split(" "),barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},b.prototype.calc=function(){var a;return this.calcBars(),!1===this.options.hideHover?(a=this.hover).update.apply(a,this.hoverContentForRow(this.data.length-1)):void 0},b.prototype.calcBars=function(){var a,c,b,d,f,m,g;m=this.data;g=[];a=d=0;for(f=m.length;f>d;a=++d)c=m[a],c._x=this.left+this.width*(a+.5)/this.data.length,g.push(c._y=function(){var a,e,d,f;d=c.y;
f=[];a=0;for(e=d.length;e>a;a++)b=d[a],null!=b?f.push(this.transY(b)):f.push(null);return f}.call(this));return g},b.prototype.draw=function(){var a;return(!0===(a=this.options.axes)||"both"===a||"x"===a)&&this.drawXAxis(),this.drawSeries()},b.prototype.drawXAxis=function(){var a,c,b,d,f,m,g,h,k,l,p;h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2);f=m=null;p=[];a=k=0;for(l=this.data.length;0<=l?l>k:k>l;a=0<=l?++k:--k)a=this.data[this.data.length-1-a],a=this.drawXAxisLabel(a._x,
h,a.label),g=a.getBBox(),a.transform("r"+-this.options.xLabelAngle),c=a.getBBox(),a.transform("t0,"+c.height/2+"..."),0!==this.options.xLabelAngle&&(d=-.5*g.width*Math.cos(this.options.xLabelAngle*Math.PI/180),a.transform("t"+d+",0...")),(null==m||m>=c.x+c.width||null!=f&&f>=c.x)&&0<=c.x&&c.x+c.width<this.el.width()?(0!==this.options.xLabelAngle&&(b=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),f=c.x-b),p.push(m=c.x-this.options.xLabelMargin)):p.push(a.remove());return p},
b.prototype.drawSeries=function(){var a,c,b,d,f,m,g,h,k,l,p,q,u,v,w;return b=this.width/this.options.data.length,h=this.options.stacked?1:this.options.ykeys.length,a=(b*this.options.barSizeRatio-this.options.barGap*(h-1))/h,this.options.barSize&&(a=Math.min(a,this.options.barSize)),q=b-a*h-this.options.barGap*(h-1),g=q/2,w=0>=this.ymin&&0<=this.ymax?this.transY(0):null,this.bars=function(){var e,n,h,r;h=this.data;r=[];d=e=0;for(n=h.length;n>e;d=++e)k=h[d],f=0,r.push(function(){var e,n,h,r;h=k._y;
r=[];l=e=0;for(n=h.length;n>e;l=++e)v=h[l],null!==v?(w?(u=Math.min(v,w),c=Math.max(v,w)):(u=v,c=this.bottom),m=this.left+d*b+g,this.options.stacked||(m+=l*(a+this.options.barGap)),p=c-u,this.options.verticalGridCondition&&this.options.verticalGridCondition(k.x)&&this.drawBar(this.left+d*b,this.top,b,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(u-=f),this.drawBar(m,u,a,p,this.colorFor(k,l,"bar"),this.options.barOpacity,
this.options.barRadius),r.push(f+=p)):r.push(null);return r}.call(this));return r}.call(this)},b.prototype.colorFor=function(a,c,b){var e,d;return"function"==typeof this.options.barColors?(e={x:a.x,y:a.y[c],label:a.label},d={index:c,key:this.options.ykeys[c],label:this.options.labels[c]},this.options.barColors.call(this,e,d,b)):this.options.barColors[c%this.options.barColors.length]},b.prototype.hitTest=function(a){return 0===this.data.length?null:(a=Math.max(Math.min(a,this.right),this.left),Math.min(this.data.length-
1,Math.floor((a-this.left)/(this.width/this.data.length))))},b.prototype.onGridClick=function(a,c){var b;return b=this.hitTest(a),this.fire("click",b,this.data[b].src,a,c)},b.prototype.onHoverMove=function(a){var c,b;return c=this.hitTest(a),(b=this.hover).update.apply(b,this.hoverContentForRow(c))},b.prototype.onHoverOut=function(){return!1!==this.options.hideHover?this.hover.hide():void 0},b.prototype.hoverContentForRow=function(a){var b,e,d,f,m,g,h,k;d=this.data[a];b="<div class='morris-hover-row-label'>"+
d.label+"</div>";k=d.y;e=g=0;for(h=k.length;h>g;e=++g)m=k[e],b+="<div class='morris-hover-point' style='color: "+this.colorFor(d,e,"label")+"'>\n  "+this.options.labels[e]+":\n  "+this.yLabelFormat(m)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(b=this.options.hoverCallback(a,this.options,b,d.src)),f=this.left+(a+.5)*this.width/this.data.length,[b,f]},b.prototype.drawXAxisLabel=function(a,b,e){return this.raphael.text(a,b,e).attr("font-size",this.options.gridTextSize).attr("font-family",
this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},b.prototype.drawBar=function(a,b,e,d,f,m,g){var c,n;return c=Math.max.apply(Math,g),n=0===c||c>d?this.raphael.rect(a,b,e,d):this.raphael.path(this.roundedRect(a,b,e,d,g)),n.attr("fill",f).attr("fill-opacity",m).attr("stroke","none")},b.prototype.roundedRect=function(a,b,e,d,f){return null==f&&(f=[0,0,0,0]),["M",a,f[0]+b,"Q",a,b,a+f[0],b,"L",a+e-f[1],b,"Q",a+e,b,a+e,b+f[1],"L",a+e,
b+d-f[2],"Q",a+e,b+d,a+e-f[2],b+d,"L",a+f[3],b+d,"Q",a,b+d,a,b+d-f[3],"Z"]},b}(k.Grid);k.Donut=function(d){function b(a){this.resizeHandler=w(this.resizeHandler,this);this.select=w(this.select,this);this.click=w(this.click,this);var b=this;if(!(this instanceof k.Donut))return new k.Donut(a);if(this.options=l.extend({},this.defaults,a),this.el="string"==typeof a.element?l(document.getElementById(a.element)):l(a.element),null===this.el||0===this.el.length)throw Error("Graph placeholder not found.");
void 0!==a.data&&0!==a.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&l(window).bind("resize",function(){return null!=b.timeoutId&&window.clearTimeout(b.timeoutId),b.timeoutId=window.setTimeout(b.resizeHandler,100)}),this.setData(a.data))}return A(b,d),b.prototype.defaults={colors:"#0B62A4 #3980B5 #679DC6 #95BBD7 #B0CCE1 #095791 #095085 #083E67 #052C48 #042135".split(" "),backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:k.commas,resize:!1},b.prototype.redraw=function(){var a,
b,e,d,f,m,g,h,l,t,p,q,u,v;this.raphael.clear();b=this.el.width()/2;e=this.el.height()/2;p=(Math.min(b,e)-10)/3;l=0;g=this.values;f=0;for(a=g.length;a>f;f++)t=g[f],l+=t;g=5/(2*p);a=1.9999*Math.PI-g*this.data.length;f=m=0;this.segments=[];v=this.values;d=q=0;for(u=v.length;u>q;d=++q)t=v[d],h=m+g+t/l*a,d=new k.DonutSegment(b,e,2*p,p,m,h,this.data[d].color||this.options.colors[f%this.options.colors.length],this.options.backgroundColor,f,this.raphael),d.render(),this.segments.push(d),d.on("hover",this.select),
d.on("click",this.click),m=h,f+=1;this.text1=this.drawEmptyDonutLabel(b,e-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(b,e+10,this.options.labelColor,14);b=Math.max.apply(Math,this.values);f=0;p=this.values;a=[];e=0;for(l=p.length;l>e;e++){if(t=p[e],t===b){this.select(f);break}a.push(f+=1)}return a},b.prototype.setData=function(a){this.data=a;var b,e,d,f;d=this.data;f=[];b=0;for(e=d.length;e>b;b++)a=d[b],f.push(parseFloat(a.value));return this.values=f,this.redraw()},b.prototype.click=
function(a){return this.fire("click",a,this.data[a])},b.prototype.select=function(a){var b,e,d,f,m,g;g=this.segments;f=0;for(m=g.length;m>f;f++)e=g[f],e.deselect();return d=this.segments[a],d.select(),b=this.data[a],this.setLabels(b.label,this.options.formatter(b.value,b))},b.prototype.setLabels=function(a,b){var c,d,f,m,g,h,k,l;return c=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,m=1.8*c,f=c/2,d=c/3,this.text1.attr({text:a,transform:""}),g=this.text1.getBBox(),h=Math.min(m/g.width,f/
g.height),this.text1.attr({transform:"S"+h+","+h+","+(g.x+g.width/2)+","+(g.y+g.height)}),this.text2.attr({text:b,transform:""}),k=this.text2.getBBox(),l=Math.min(m/k.width,d/k.height),this.text2.attr({transform:"S"+l+","+l+","+(k.x+k.width/2)+","+k.y})},b.prototype.drawEmptyDonutLabel=function(a,b,d,k,f){var c;return c=this.raphael.text(a,b,"").attr("font-size",k).attr("fill",d),null!=f&&c.attr("font-weight",f),c},b.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),
this.el.height()),this.redraw()},b}(k.EventEmitter);k.DonutSegment=function(d){function b(a,b,d,k,f,m,g,h,l,t){this.cx=a;this.cy=b;this.inner=d;this.outer=k;this.color=g;this.backgroundColor=h;this.index=l;this.raphael=t;this.deselect=w(this.deselect,this);this.select=w(this.select,this);this.sin_p0=Math.sin(f);this.cos_p0=Math.cos(f);this.sin_p1=Math.sin(m);this.cos_p1=Math.cos(m);this.is_long=m-f>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+
3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}return A(b,d),b.prototype.calcArcPoints=function(a){return[this.cx+a*this.sin_p0,this.cy+a*this.cos_p0,this.cx+a*this.sin_p1,this.cy+a*this.cos_p1]},b.prototype.calcSegment=function(a,b){var c,d,f,k,g,h,l,t,p,q;return p=this.calcArcPoints(a),c=p[0],f=p[1],d=p[2],k=p[3],q=this.calcArcPoints(b),g=q[0],l=q[1],h=q[2],t=q[3],"M"+c+","+f+("A"+a+","+a+",0,"+this.is_long+",0,"+d+","+k)+("L"+h+","+t)+("A"+b+","+b+",0,"+this.is_long+",1,"+g+","+
l)+"Z"},b.prototype.calcArc=function(a){var b,d,k,f,l;return l=this.calcArcPoints(a),b=l[0],k=l[1],d=l[2],f=l[3],"M"+b+","+k+("A"+a+","+a+",0,"+this.is_long+",0,"+d+","+f)},b.prototype.render=function(){var a=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return a.fire("hover",a.index)},function(){return a.fire("click",a.index)})},b.prototype.drawDonutArc=function(a,b){return this.raphael.path(a).attr({stroke:b,
"stroke-width":2,opacity:0})},b.prototype.drawDonutSegment=function(a,b,d,k,f){return this.raphael.path(a).attr({fill:b,stroke:d,"stroke-width":3}).hover(k).click(f)},b.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},b.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},b}(k.EventEmitter)}).call(this);
